<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="shortcut icon" href="assets/ico/favicon.png">
        <link rel="stylesheet" href="assets/css/normalize.css" />
        <link rel="stylesheet" href="assets/css/foundation.min.css" />
        <link rel="stylesheet" href="assets/css/font-awesome.min.css" />
        <link rel="stylesheet" href="assets/css/page.css" />
        <meta name="description" content="Laravel Cheat Sheet , Codes , function , methods of laravel framework">
        <title>Laravel 5.3 Cheat Sheet</title>
    </head>
    <body>

        <div class="off-canvas-wrap" data-offcanvas>
          <div class="inner-wrap">
            <nav class="tab-bar">
              <div  class="left-small">
                <a class="left-off-canvas-toggle menu-icon" href="#"><span></span></a>
              </div>

              <div class="middle tab-bar-section">
                  <h1 class="title"><a href="index.html">Laravel 5.3 Cheat Sheet</a></h1>
              </div>
            </nav>

            <div class="row" id="search-box">
                <div class="small-10 small-offset-1 large-6 large-offset-3 columns">
                    <div class="row collapse">
                        <div class="small-10 columns">
                            <input type="text" placeholder="Start typing to search..." id="search" name="search" />
                        </div>
                        <div class="small-2 columns">
                            <button class="button postfix searchable" id="search-button"><i class="icon-search"></i></button>
                        </div>
                    </div>
                    <small id="searchHint">hint: keep tapping the search, it scrolls to the result</small>
                </div>
            </div>


            <!-- Off Canvas Menu -->
            <aside class="left-off-canvas-menu">
                <ul class="off-canvas-list" >
<li><a id="comments-toggle" href="#"><i class="icon-comments"></i> Toggle Code Comments</a></li>
<li><a href="#application-testing">Application Testing</a></li>
<li><a href="#artisan">Artisan</a></li>
<li><a href="#authorization">Authorization</a></li>
<li><a href="#billing">Billing</a></li>
<li><a href="#blade">Blade</a></li>
<li><a href="#broadcasting">Broadcasting</a></li>
<li><a href="#cache">Cache</a></li>
<li><a href="#configuration">Configuration</a></li>
<li><a href="#collections">Collections</a></li>
<li><a href="#configuration">Configuration</a></li>
<li><a href="#controllers">Controllers</a></li>
<li><a href="#cookies">Cookies</a></li>
<li><a href="#database-testing">Database Testing</a></li>
<li><a href="#database">Database</a></li>
<li><a href="#elixir">Elixir</a></li>
<li><a href="#eloquent-mutators">Eloquent Mutators</a></li>
<li><a href="#eloquent-relationships">Eloquent Relationships</a></li>
<li><a href="#eloquent">Eloquent</a></li>
<li><a href="#envoy">Envoy</a></li>
<li><a href="#events">Events</a></li>
<li><a href="#files">Files</a></li>
<li><a href="#filesystem">Filesystem</a></li>
<li><a href="#forms">Forms</a></li>
<li><a href="#helpers">Helpers</a></li>
<li><a href="#html">Html</a></li>
<li><a href="#localization">Localization</a></li>
<li><a href="#log">Log</a></li>
<li><a href="#mail">Mail</a></li>
<li><a href="#mocking">Mocking</a></li>
<li><a href="#notifications">Notifications</a></li>
<li><a href="#packages">Packages</a></li>
<li><a href="#pagination">Pagination</a></li>
<li><a href="#passport">Passport</a></li>
<li><a href="#queues">Queues</a></li>
<li><a href="#redirects">Redirects</a></li>
<li><a href="#redis">Redis</a></li>
<li><a href="#requests">Requests</a></li>
<li><a href="#responses">Responses</a></li>
<li><a href="#routing">Routing</a></li>
<li><a href="#scheduling">Scheduling</a></li>
<li><a href="#migrations">Migrations</a></li>
<li><a href="#scout">Scout</a></li>
<li><a href="#security">Security</a></li>
<li><a href="#service-container">Service Container</a></li>
<li><a href="#sessions">Sessions</a></li>
<li><a href="#str">Str</a></li>
<li><a href="#urls">Urls</a></li>
<li><a href="#validation">Validation</a></li>
<li><a href="#views">Views</a></li>
                </ul>
            </aside>

            <a name="top" id="top-anchor"></a>
            <section class="main-section">
                <div class="row full-width">
                    <div class="large-4 columns code-column">
<h4><a name="application-testing" href="#application-testing">Application Testing</a> <a href="https://laravel.com/docs/5.3/application-testing" title="Unit Application Testing @ Laravel Docs"><i class="icon-file-text"></i></a></h4>

<pre class="prettyprint lang-php">
// Make a GET request to /profile
// should see the text 'Laravel 5'
// should not see the text 'Rails'
 $this->visit('/profile')
    ->see('Laravel 5')
    ->dontSee('Rails');
// Make a GET request via a named route
$this->visitRoute('profile');
$this->visitRoute('profile', ['user' => 1]);

// Click &lt;a href=&quot;/about-us&quot;&gt;About Us&lt;/a&gt;
// should at the location '/about-us'
 $this->visit('/')
    ->click('About Us')
    ->seePageIs('/about-us');
// or named route
->seeRouteIs('about-us', ['user' => 1])
</pre>

<h6>Interacting With Forms</h6>
<pre class="prettyprint lang-php">
// Complete a form and inspect the result
// &lt;input type=&quot;text&quot; name=&quot;name&quot; value=&quot;Taylor&quot;&gt;
// &lt;input type=&quot;checkbox&quot; value=&quot;1&quot; name=&quot;terms&quot; checked&gt;
// &lt;input type=&quot;submit&quot; value=&quot;Register&quot;&gt;
$this->visit('/register')
    ->type('Taylor', 'name')
    ->check('terms')
    ->press('Register')
    ->seePageIs('/dashboard');

// Methods
// "Type" text into a given field.
$this->type($text, $elementName)
// "Select" a radio button or drop-down field.
$this->select($value, $elementName)
// "Check" a checkbox field.
$this->check($elementName)
// "Uncheck" a checkbox field.
$this->uncheck($elementName)
// "Attach" a file to the form.
$this->attach($pathToFile, $elementName)
// "Press" a button with the given text or name.
$this->press($buttonTextOrElementName)
</pre>

<h6>Testing JSON APIs</h6>
<pre class="prettyprint lang-php">
// Verify the array is partial matched
$this->json('POST', '/user', ['name' => 'Sally'])
     ->seeJson(['created' => true]);
// Verify the array is exactly matched
$this->json('POST', '/user', ['name' => 'Sally'])
     ->seeJsonEquals(['created' => true]);
// Verify structural match
$this->get('/user/1')
     ->seeJsonStructure(['name', 'pet' => ['name', 'age']]);
// The list has at least an id, name and email attribute
$this->get('/users')
     ->seeJsonStructure(['*' => ['id', 'name', 'email']]);
// Nest the * notation
$this->get('/users')
     ->seeJsonStructure(['*' => ['pets' => ['*' => [...]]]]);
</pre>

<h6>Sessions / Authentication</h6>
<pre class="prettyprint lang-php">
// Set the session data to a given array
$this->withSession(['foo' => 'bar'])->visit('/');
// Flush all of the current session data
$this->flushSession();
// Authenticate a given user as the current user
$this->actingAs($user)->visit('/');
// Specify the guard
$this->actingAs($user, 'api');
</pre>

<h6>Disabling Middleware</h6>
<pre class="prettyprint lang-php">
use Illuminate\Foundation\Testing\WithoutMiddleware;
class ExampleTest extends TestCase {
    use WithoutMiddleware;
}
// Disable middleware for a test method
class ExampleTest extends TestCase {
    public function testBasicExample() {
        $this->withoutMiddleware();
    }
}
</pre>

<h6>Custom HTTP Requests</h6>
<pre class="prettyprint lang-php">
$this->call($method, $uri, $parameters, $files, $server, $content);
$this->callSecure('GET', 'foo/bar');
</pre>

<h6>PHPUnit Assertions</h6>
<pre class="prettyprint lang-php">
// Assert that the client response has an OK status code.
->assertResponseOk();
// Assert that the client response has a given code.
->assertResponseStatus($code);
// Assert that the response view has a given piece of bound data.
->assertViewHas($key, $value = null);
// Assert that the view has a given list of bound data.
->assertViewHasAll(array $bindings);
// Assert that the response view is missing a piece of bound data.
->assertViewMissing($key);
// Assert whether the client was redirected to a given URI.
->assertRedirectedTo($uri, $with = []);
// Assert whether the client was redirected to a given route.
->assertRedirectedToRoute($name, $parameters = [], $with = []);
// Assert whether the client was redirected to a given action.
->assertRedirectedToAction($name, $parameters = [], $with = []);
// Assert that the session has a given value.
->assertSessionHas($key, $value = null);
// Assert that the session has a given list of values.
->assertSessionHasAll(array $bindings);
// Assert that the session has errors bound.
->assertSessionHasErrors($bindings = [], $format = null);
// Assert that the session has old input.
->assertHasOldInput();
// Assert that the session is missing a given key.
->assertSessionMissing($key);
</pre>


<h4><a name="artisan" href="#artisan">Artisan</a> <a href="https://laravel.com/docs/5.3/artisan" title="Artisan CLI @ Laravel Docs"><i class="icon-file-text"></i></a></h4>
<pre class="prettyprint lang-php">
// Display help for a given command
php artisan --help OR -h
// Do not output any message
php artisan --quiet OR -q
// Display this application version
php artisan --version OR -V
// Do not ask any interactive question
php artisan --no-interaction OR -n
// Force ANSI output
php artisan --ansi
// Disable ANSI output
php artisan --no-ansi
// The environment the command should run under
php artisan --env
// -v|vv|vvv Increase the verbosity of messages: 1 for normal output, 2 for more verbose output and 3 for debug
php artisan --verbose

// Remove the compiled class file
php artisan clear-compiled
// Display the current framework environment
php artisan env
// Display an inspiring quote
php artisan inspire

// Display help for a command
// --format=FORMAT   The output format (txt, xml, json, or md) [default: "txt"]
// --raw             To output raw command help
php artisan help [--format=FORMAT] [--raw] name

// Lists commands
// --raw            To output raw command list
// --format=FORMAT  The output format (txt, xml, json, or md) [default: "txt"]
php artisan list [--raw] [--format=FORMAT]

// Interact with your application
// include               Include file(s) before starting tinker
php artisan tinker  [&lt;include&gt;]

// Put the application into maintenance mode
// --message  Display or log a custom message
// --retry    set Retry-After HTTP header
php artisan down [--message] [--retry]

// Bring the application out of maintenance mode
php artisan up

// Optimize the framework for better performance
// --force    Force the compiled class file to be written.
// --psr      Do not optimize Composer dump-autoload.
php artisan optimize [--force] [--psr]

// Serve the application on the PHP development server
php artisan serve
// Change the default port
php artisan serve --port 8080
// Get it to work outside localhost
php artisan serve --host 0.0.0.0

// Set the application namespace
php artisan app:name namespace

// Flush expired password reset tokens
php artisan auth:clear-resets

// Flush the application cache
php artisan cache:clear
// Create a migration for the cache database table
php artisan cache:table

// Create a cache file for faster configuration loading
php artisan config:cache
// Remove the configuration cache file
php artisan config:clear

// Seed the database with records
// --class      The class name of the root seeder (default: "DatabaseSeeder")
// --database   The database connection to seed
// --force      Force the operation to run when in production.
php artisan db:seed [--class[="..."]] [--database[="..."]] [--force]

// Generate the missing events and handlers based on registration
php artisan event:generate

// Create a new command handler class
// --command      The command class the handler handles.
php artisan handler:command [--command="..."] name
// Create a new event handler class
// --event        The event class the handler handles.
// --queued       Indicates the event handler should be queued.
php artisan handler:event [--event="..."] [--queued] name

// Set the application key
php artisan key:generate

// Generate a mailable class
php artisan make:mail name

// Scaffold basic login and registration views and routes
php artisan make:auth
// Create a new Artisan command
// --command[=COMMAND]  The terminal command that should be assigned. [default: "command:name"]
php artisan make:command --command[=COMMAND] name
// Create a new resourceful controller
// --resource        Generate a resource controller class.
php artisan make:controller [--resource] name
php artisan make:controller Namespace\\DashboardController
// Create a new event class
php artisan make:event name
// Create a queued job
php artisan make:job name
// Create a new middleware class
php artisan make:middleware name
// Create a new migration file
// --create     The table to be created.
// --table      The table to migrate.
php artisan make:migration [--create[="..."]] [--table[="..."]] name
// Create a new Eloquent model class
// -m, --migration       Create a new migration file for the model.
// -c, --controller      Create a new controller for the model.
// -r, --resource        Indicates if the generated controller should be a resource controller
php artisan make:model name
// Create a new service provider class
php artisan make:provider name
// Create a new notification class
php artisan make:notification name
// Generating Policies
// --model[=MODEL] The model that the policy applies to.
php artisan make:policy [--model[=MODEL]] name
// Create a new form request class
php artisan make:request name
// Create a new seeder class
php artisan make:seeder name
// Create a new test class
php artisan make:test name

// Database migrations
// --database   The database connection to use.
// --force      Force the operation to run when in production.
// --path       The path of migrations files to be executed.
// --pretend    Dump the SQL queries that would be run.
// --seed       Indicates if the seed task should be re-run.
php artisan migrate [--database[="..."]] [--force] [--path[="..."]] [--pretend] [--seed]
// Create the migration repository
php artisan migrate:install [--database[="..."]]
// Create a new migration file
// --create     The table to be created.
// --table      The table to migrate.
php artisan make:migration [--create[="..."]] [--table[="..."]] name
// Reset and re-run all migrations
// --database[=DATABASE]  The database connection to use.
// --force                Force the operation to run when in production.
// --path[=PATH]          The path of migrations files to be executed.
// --seed                 Indicates if the seed task should be re-run.
// --seeder[=SEEDER]      The class name of the root seeder.
// --step[=STEP]          The number of migrations to be reverted & re-run.
php artisan migrate:refresh
// Rollback all database migrations
// --pretend    Dump the SQL queries that would be run.
php artisan migrate:reset [--database[="..."]] [--force] [--pretend]
// Rollback the last database migration
// --database[=DATABASE]  The database connection to use.
// --force                Force the operation to run when in production.
// --path[=PATH]          The path of migrations files to be executed.
// --pretend              Dump the SQL queries that would be run.
// --step[=STEP]          The number of migrations to be reverted.
php artisan migrate:rollback
// Show a list of migrations up/down
php artisan migrate:status

// generate a migration with the database notifications schema
php artisan notifications:table

// Create encryption keys
php artisan passport:install
// Create a client
php artisan passport:client
// Create a password grant client
php artisan passport:client --password
// Create a personal access client
php artisan passport:client --personal

// Create a migration for the queue jobs database table
php artisan queue:table
// Listen to a given queue
// --queue      The queue to listen on
// --delay      Amount of time to delay failed jobs (default: 0)
// --memory     The memory limit in megabytes (default: 128)
// --timeout    Seconds a job may run before timing out (default: 60)
// --sleep      Seconds to wait before checking queue for jobs (default: 3)
// --tries      Number of times to attempt a job before logging it failed (default: 0)
php artisan queue:listen [--queue[="..."]] [--delay[="..."]] [--memory[="..."]] [--timeout[="..."]] [--sleep[="..."]] [--tries[="..."]] [connection]
// List all of the failed queue jobs
php artisan queue:failed
// Create a migration for the failed queue jobs database table
php artisan queue:failed-table
// Flush all of the failed queue jobs
php artisan queue:flush
// Delete a failed queue job(id: The ID of the failed job)
php artisan queue:forget id
// Restart queue worker daemons after their current job
php artisan queue:restart
// Retry a failed queue job(id: The ID of the failed job)
php artisan queue:retry id
// Retry all
php artisan queue:retry all
// Subscribe a URL to an Iron.io push queue
// queue: The name of Iron.io queue.
// url: The URL to be subscribed.
// --type       The push type for the queue.
php artisan queue:subscribe [--type[="..."]] queue url
// Process the next job on a queue
// --queue      The queue to listen on
// --daemon     Run the worker in daemon mode
// --delay      Amount of time to delay failed jobs (default: 0)
// --force      Force the worker to run even in maintenance mode
// --memory     The memory limit in megabytes (default: 128)
// --sleep      Number of seconds to sleep when no job is available (default: 3)
// --tries      Number of times to attempt a job before logging it failed (default: 0)
php artisan queue:work [--queue[="..."]] [--daemon] [--delay[="..."]] [--force] [--memory[="..."]] [--sleep[="..."]] [--tries[="..."]] [connection]

// Closure based routes cannot be cached. To use route caching, you must convert any Closure routes to controller classes.
// Create a route cache file for faster route registration[For production]
php artisan route:cache
// Remove the route cache file
php artisan route:clear
// List all registered routes
php artisan route:list

// Run the scheduled commands
php artisan schedule:run

// Import the given model into the search index
php artisan scout:import model
// Flush all of the model's records from the index
php artisan scout:flush model

// Create a migration for the session database table
php artisan session:table

// Create a symbolic link from "public/storage" to "storage/app/public"
php artisan storage:link

// Publish any publishable assets from vendor packages
// --force        Overwrite any existing files.
// --provider     The service provider that has assets you want to publish.
// --tag          The tag that has assets you want to publish.
php artisan vendor:publish [--force] [--provider[="..."]] [--tag[="..."]]
                </pre>
                <h6>Command Structure</h6>
                <pre class="prettyprint lang-php">
use Illuminate\Console\Command;
class SendEmails extends Command {
//  Required argument: user
&nbsp;&nbsp;&nbsp;
    protected $signature = 'email:send {user}';
//  Optional argument
&nbsp;&nbsp;&nbsp;
    protected $signature = 'email:send {user?}';
//  Optional argument with default value...
&nbsp;&nbsp;&nbsp;
    protected $signature = 'email:send {user=foo}';
//  php artisan email:send 1 --queue
&nbsp;&nbsp;&nbsp;
    protected $signature = 'email:send {user} {--queue}';
//  php artisan email:send 1 --queue=foo
&nbsp;&nbsp;&nbsp;
    protected $signature = 'email:send {user} {--queue=}';
//  Default value
&nbsp;&nbsp;&nbsp;
    protected $signature = 'email:send {user} {--queue=default}';
//  Option Shortcuts
&nbsp;&nbsp;&nbsp;
    protected $signature = 'email:send {user} {--Q|queue}';
//  Input Arrays: php artisan email:send foo bar
&nbsp;&nbsp;&nbsp;
    protected $signature = 'email:send {user*}';
//  php artisan email:send --id=1 --id=2
&nbsp;&nbsp;&nbsp;
    protected $signature = 'email:send {--id=*}';
//  Input Descriptions
&nbsp;&nbsp;&nbsp;
    protected $signature = 'email:send
                            {user : The ID of the user}
                            {--queue= : Whether the job should be queued}';
}
</pre>

<h6>Command I/O</h6>
<pre class="prettyprint lang-php">
$this->argument('user');
$this->arguments();
$this->option('queue');
$this->options();

$this->ask('What is your name?');
// User's input will not be visible
$this->secret('What is the password?');
$this->confirm('Do you wish to continue? [y|N]');
// Provides auto-completion
$this->anticipate('What is your name?', ['Taylor', 'Dayle']);
// Gives the user a predefined set of choices
$this->choice('What is your name?', ['Taylor', 'Dayle'], $default);

$this->info('Display this on the screen');
$this->error('Something went wrong!');
// Display plain, uncolored console output
$this->line('Display this on the screen');
$this->table($headers, $users);

//Progress Bars
$bar = $this->output->createProgressBar(count($users));
foreach ($users as $user) {
    $this->performTask($user);
    $bar->advance();
}
$bar->finish();

// Programatically Executing Commands
$exitCode = Artisan::call('config:cache');
$exitCode = Artisan::call('email:send', ['user' => 1, '--queue' => 'default']);
// Queue Artisan commands
Artisan::queue('email:send', ['user' => 1, '--queue' => 'default']);
</pre>
<h4><a name="authorization" href="#authorization">Authorization</a> <a href="https://laravel.com/docs/5.3/authorization" title="Authorization @ Laravel Docs"><i class="icon-file-text"></i></a></h4>
<pre class="prettyprint lang-php">
Gate::define('update-post', function ($user, $post) { });
Gate::allows('update-post', $post);
// If a particular user is authorized
Gate::forUser($user)->allows('update-post', $post)
// Via The User Model
$user->can('update', $post);
$user->cant('update', $post);
$user->can('create', Post::class);
// Via middleware
Route::put('/post/{post}', function (Post $post) {})->middleware('can:update,post');
Route::post('/post', function () {})->middleware('can:create,App\Post');
// Via Controller Helpers
class PostController extends Controller {
    public function update(Request $request, Post $post) {
        $this->authorize('update', $post);
        $this->authorize('create', Post::class);
    }
}
// Via Blade Templates
@can('update', $post)
@endcan
@can('update', Post::class)
@endcan

@cannot('update', $post)
@endcannot
@cannot('update', Post::class)
@endcannot
</pre>
<h4><a name="billing" href="#billing">Laravel Cashier</a> <a href="https://laravel.com/docs/5.3/billing" title="Laravel Cashier @ Laravel Docs"><i class="icon-file-text"></i></a></h4>
<h6>Billable Model</h6>
<pre class="prettyprint lang-php">
use Laravel\Cashier\Billable;
class User extends Authenticatable {
    use Billable;
}
</pre>

<h6>Currency Configuration</h6>
<pre class="prettyprint lang-php">
use Laravel\Cashier\Cashier;
Cashier::useCurrency('eur', 'â‚¬');
</pre>

<h6>Subscriptions</h6>
<pre class="prettyprint lang-php">
// Create a subscription
$user->newSubscription('main', 'monthly')
     ->create($creditCardToken, ['email' => $email]);
// Apply a coupon
$user->newSubscription('main', 'monthly')
     ->withCoupon('code')
     ->create($creditCardToken);
// Offer trial periods
$user->newSubscription('main', 'monthly')
     ->trialDays(10)
     ->create($creditCardToken);

// Check user's subscription status
$user->subscribed('main');
// Is still within their trial period
$user->subscription('main')->onTrial();
// Or
$user->onTrial('main')
// In "generic" trial period and has not created an actual subscription
$user->onGenericTrial();
// Determine if subscribed to a given plan
$user->subscribedToPlan('monthly', 'main');
// Is cancelled
$user->subscription('main')->cancelled();
// Cancelled but still on their "grace period"
$user->subscription('main')->onGracePeriod();

// Change to a new subscription plan
$user->subscription('main')->swap('provider-plan-id');
// Swap plans and cancel any trial period
$user->subscription('main')
     ->skipTrial()
     ->swap('provider-plan-id');

// Increment the subscription quantity
$user->subscription('main')->incrementQuantity();
// Add five to the subscription's current quantity
$user->subscription('main')->incrementQuantity(5);
// Decrement subscription quantities
$user->subscription('main')->decrementQuantity();
$user->subscription('main')->decrementQuantity(5);
// Set a specific quantity
$user->subscription('main')->updateQuantity(10);

// Cancel a subscription
$user->subscription('main')->cancel();
// Candel and still on their "grace period"
$user->subscription('main')->onGracePeriod();
// Cancel a subscription immediately
$user->subscription('main')->cancelNow();
// Resume from grace period
$user->subscription('main')->resume();

// Update a customer's credit card information
$user->updateCard($creditCardToken);
</pre>

<h6>Single Charges</h6>
<pre class="prettyprint lang-php">
// Stripe Accepts Charges In Cents
$user->charge(100);
// Braintree Accepts Charges In Dollars
$user->charge(1);
$user->charge(100, ['custom_option' => $value]);
// throw an exception if the charge fails
try {
    $response = $user->charge(100);
} catch (Exception $e) {
}

// Invoice $5.00 for a "One Time Fee" using Stripe
$user->invoiceFor('One Time Fee', 500);
$user->invoiceFor('One Time Fee', 500, [
    'custom-option' => $value,
]);
// Retrieve an array of a billable model's invoices
$user->invoices();
// Include pending invoices in the results
$user->invoicesIncludingPending();
// Generate a PDF download
$user->downloadInvoice($invoiceId, [
    'vendor'  => 'Your Company',
    'product' => 'Your Product',
]);
</pre>
<h4><a name="blade" href="#blade">Blade Templates</a> <a href="https://laravel.com/docs/5.3/blade" title="Blade Templating @ Laravel Docs"><i class="icon-file-text"></i></a></h4>
<pre class="prettyprint lang-php">
@extends('layout.name')
// Defines a section
@section('sidebar')
This is the master sidebar.
@endsection
// Defines a section and yields
@section('content')
This is my body content
@show
// Appends content
@section('sidebar')
    @parent
    This is appended to the master sidebar
@endsection
// Show a section in a template
@yield('name')
@include('view.name')
@include('view.name', ['key' => 'value']);
@lang('messages.name')
@choice('messages.name', 1);

@if
@else
@elseif
@endif
@unless
@endunless

@for
@endfor
@foreach
    @continue($user->type == 1)
    {{ $user->name }}
    @break($user->number == 5)
@endforeach
@while
@endwhile
// forelse 4.2 feature
@forelse($users as $user)
    {{ $user->name }}
@empty
    No users
@endforelse
// Renders Views For Collections
@each('view.item', $items, 'item', 'view.no-items')

@can('update', $post)
@elsecan('delete', $post)
@endcan

@cannot('update', $post)
@elsecannot('delete', $post)
@endcannot

@hasSection('title')
    @yield('title') - App Name
@else
    App Name
@endif

@php($count = 1)
@php(++ $count)
@php
    $now = new DateTime();
    $environment = isset($env) ? $env : "testing";
@enphp
@unset($count)

@push('scripts')
    &lt;script src=&quot;/example.js&quot;&gt;&lt;/script&gt;
@endpush
@stack('scripts')

@inject('metrics', 'App\Services\MetricsService')

// Echo content
{{ $var }}
// Echo escaped content
{{{ $var }}}
// Echo unescaped content; 5.0 feature
{!! $var !!}
{{-- Blade Comment --}}
// Echoes Data After Checking For Existence
{{ $name or 'Default' }}
// Display Raw Text With Curly Braces
@{{ This will not be processed by Blade }}
// Echoes Curly Braces without @ prefix
@verbatim
Hello, {{ name }}.
Today is {{ date }}.
@endverbatim
// &lt;input type=&quot;hidden&quot; name=&quot;_method&quot; value=&quot;DELETE&quot;&gt;
{{ method_field('DELETE') }}
// &lt;input type=&quot;hidden&quot; name=&quot;_token&quot; value=&quot;{{ csrf_token() }}&quot;&gt;
{{ csrf_field() }}
</pre>

<h6>$loop variable</h6>
<pre class="prettyprint lang-php">
@foreach ($users as $user)
    @foreach ($user->posts as $post)
        @if ($loop->parent->first)
            This is first iteration of the parent loop.
        @endif
    @endforeach
@endforeach

//The index of the current loop iteration (starts at 0).
$loop->index
//The current loop iteration (starts at 1).
$loop->iteration
//The iteration remaining in the loop.
$loop->remaining
//The total number of items in the array being iterated.
$loop->count
//Whether this is the first iteration through the loop.
$loop->first
//Whether this is the last iteration through the loop.
$loop->last
//The nesting level of the current loop.
$loop->depth
//When in a nested loop, the parent's loop variable.
$loop->parent
</pre>
<h4><a name="broadcasting" href="#broadcasting">Event Broadcasting</a> <a href="https://laravel.com/docs/5.3/broadcasting" title="Event Broadcasting @ Laravel Docs"><i class="icon-file-text"></i></a></h4>
<h6>Laravel Echo</h6>
<pre class="prettyprint lang-js">
// Listen for event broadcasts
Echo.channel('orders').listen('OrderShipped', (e) => {});
// Specify the fully-qualified class name
Echo.channel('orders').listen('.Namespace.Event.Class', (e) => {});
// Listen for events on a private channel
Echo.private('orders').listen(...).listen(...);
// Leave a channel
Echo.leave('orders');

// Join and listen a presence channel
Echo.join('chat.' + roomId)
    .here((users) => { })
    .joining((user) => { })
    .leaving((user) => { });
    .listen('NewMessage', (e) => { });

Echo.private('App.User.' + userId)
    .notification((notification) => { });
</pre>
<h4><a name="cache" href="#cache">Cache</a> <a href="https://laravel.com/docs/5.3/cache" title="Cache @ Laravel Docs"><i class="icon-file-text"></i></a></h4>
<pre class="prettyprint lang-php">
// Access cache stores
Cache::store('file');
Cache::put('key', 'value', $minutes);
Cache::add('key', 'value', $minutes);
Cache::forever('key', 'value');
Cache::remember('key', $minutes, function(){ return 'value' });
Cache::rememberForever('key', function(){ return 'value' });
Cache::forget('key');
Cache::has('key');
Cache::get('key');
Cache::get('key', 'default');
Cache::get('key', function(){ return 'default'; });
// Retrieve & Delete
Cache::pull('key');
// Clear the entire cache
Cache::flush();
Cache::tags(['people', 'artists'])->put('key','value', $minutes);
Cache::tags(['people', 'artists'])->has('key');
Cache::tags(['people', 'artists'])->get('key');
Cache::tags(['people', 'artists'])->forget('key');
Cache::tags(['people', 'artists'])->flush();
Cache::increment('key');
Cache::increment('key', $amount);
Cache::decrement('key');
Cache::decrement('key', $amount);
Cache::section('group')->put('key', $value);
Cache::section('group')->get('key');
Cache::section('group')->flush();
</pre>

<h6>Helper</h6>
<pre class="prettyprint lang-php">
// Get value
$value = cache('key');
// store values
cache(['key' => 'value'], $minutes);
cache(['key' => 'value'], Carbon::now()->addSeconds(10));
</pre>
<h4><a name="collections" href="#collections">Collections</a> <a href="https://laravel.com/docs/5.3/collections" title="Collections @ Laravel Docs"><i class="icon-file-text"></i></a>
                </h4>
<pre class="prettyprint lang-php">
// Create a Collection
collect([1, 2, 3]);
// [1, 2, 3]
collect([1, 2, 3])->all();
// 3
collect([1, 2, 3, 4, 5])->avg();
// array([1, 2, 3, 4], [5, 6])
collect([1, 2, 3, 4, 5, 6])->chunk(4);
// [1, 2, 3, 4, 5, 6]
collect([
    [1, 2, 3],
    [4, 5, 6],
])->collapse();
// ['name'=>'George', 'age'=>29]
collect(['name', 'age'])->combine(['George', 29]);

// Determine if the given item exists
collect(['Desk'])->contains('Desk');
// Determine if the given pair exists
collect(array(['name'=>'Desk']))->contains('name', 'Desk');
// Pass a callback
$collection->contains(function ($item, $key) { });
// Use "strict" comparisons
$collection->containsStrict('New York');

// 4
collect([1, 2, 3, 4])->count();
// return false to stop, result: A  B
collect(['A ', ' B', 3, 4])->each(function($item, $key){
    if(3 === $item) return false;
    echo $item;
});
// ['one'=>1]
collect(['one'=>1, 'two'=>2])->diffKeys(['two'=>20]);

// [a, d]
collect(['a', 'b', 'c', 'd', 'e', 'f'])->every(3);
// [b, e]
collect(['a', 'b', 'c', 'd', 'e', 'f'])->every(3, $offset = 1);

// ['a'=>1]
collect(['a'=>1, 'b'=>100, 'c'=>false])
->except(['b', 'c']);
// [1=>3]
collect([4, 3, 2, 1])->filter(function($item, $key){
    return 3 == $item;
});
// 2
collect([1, 2, 3, 4])->first(function($item, $key){
    return $item > 1;
});

// ['a', true, 'd']
collect([ 'a', 'b'=>true, 'c'=>['d'] ])->flatten();
// array(['a.2'], ['b.2'])
collect([
    'a'=>array(['a.2']),
    'b'=>array(['b.2']),
])->flatten(1);
// ['a.2', 'b.2']
collect([
    'a'=>array(['a.2']),
    'b'=>array(['b.2']),
])->flatten(2);

// ['Jack'=>'name']
collect(['name'=>'Jack'])->flip();
// []
collect(['name'=>'Jack'])->forget('name');
// [3=>5, 4=>5, 5=>5]
collect([4,4,4,  5,5,5,  6,6,6])->forPage($page = 2, $perPage = 3);
// 'Jack'
collect(['name'=>'Jack'])->get('name', 'default-value');
collect(['name'=>'Jack'])->get('name', Closure);

/* [
     'big'=>[
         ['size'=>'big', 'toy'=>'Car'],
         ['size'=>'big', 'toy'=>'Train'],
     ],
     'small'=>[
         ['size'=>'small', 'toy'=>'Doll'],
     ]
 ] */
collect([
    ['size'=>'big', 'toy'=>'Car'],
    ['size'=>'big', 'toy'=>'Train'],
    ['size'=>'small', 'toy'=>'Doll'],
])->groupBy('size');
// Return the value you wish to key the group by
$collection->groupBy(function ($item, $key) {
    return substr($item['account_id'], -3);
});

// Determine if a given key exists in the collection
collect(['name'=>'Jack'])->has('name');

// Jack::Rose
collect(array(['name'=>'Jack'], ['name'=>'Rose']))
    ->implode('name', '::');
// 1-2-3-4-5
collect([1, 2, 3, 4, 5])->implode('-');

// [1=>6, 2=>7]
collect([5, 6, 7])->intersect([7, 6]);
// Return true if the collection is empty
collect([])->isEmpty();

/* [
    '100'=>['id'=>'100', 'name'=>'desk'],
    '200'=>['id'=>'200', 'name'=>'chair'],
] */
collect([
    ['id'=>'100', 'name'=>'desk'],
    ['id'=>'200', 'name'=>'chair'],
])->keyBy('id');
/* [
    'desk'=>['id'=>'100', 'name'=>'desk'],
    'chair'=>['id'=>'200', 'name'=>'chair'],
] */
collect([
    ['id'=>'100', 'name'=>'desk'],
    ['id'=>'200', 'name'=>'chair'],
])->keyBy(function($item) {
    return $item['name'];
});

// ['a', 'b']
collect([
    'a'=>[],
    'b'=>[],
])->keys();
// 4
collect([1, 2, 3, 4])->last(function($item, $key){
    return $item > 1;
});
// 4
collect([1, 2, 3, 4])->last();
// [2, 4, 6, 8, 10]
collect([1, 2, 3, 4, 5])->map(function ($item, $key) {
    return $item * 2;
});
// ["one"=>1, "two"=>2];
collect([
    'one'=>['id'=>1],
    'two'=>['id'=>2]
])->mapWithKeys(function ($item, $key) {
    return [$key=>$item['id']];
});

// 5
collect([1, 2, 3, 4, 5])->max();
// 20
collect([
    ['foo'=>10],
    ['foo'=>20]
])->max('foo');
// ['a'=>1, 'b'=>200, 'c'=>3]
collect(['a'=>1, 'b'=>2])->merge(['b'=>200, 'c'=>3]);
// 1
collect([1, 2, 3, 4, 5])->min();
// 10
collect([
    ['foo'=>10],
    ['foo'=>20]
])->min('foo');
// ['b'=>'2', 'c'=>'3']
collect(['a'=>'1', 'b'=>'2', 'c'=> '3'])->only(['b','c']);
// 6
collect([1, 2, 3])->pipe(function ($collection) {
    return $collection->sum();
})
// ['Jack', 'Rose']
collect([
    ['id'=>5, 'name'=>'Jack'],
    ['id'=>6, 'name'=>'Rose'],
])->pluck('name');
// [5=>'Jack', 6=>'Rose']
collect([
    ['id'=>5, 'name'=>'Jack'],
    ['id'=>6, 'name'=>'Rose']
])->pluck ('name', $key = 'id');

// 5
collect([1, 2, 3, 4, 5])->pop();
// [0, 1, 2, 3, 4, 5]
collect([1, 2, 3, 4, 5])->prepend(0);
// ['zero'=>0, 'one'=>1, 'two',=>2]
collect(['one'=>1, 'two',=>2])->prepend(0, 'zero');
// Desk
collect(['id'=>'100', 'name'=>'Desk'])->pull('name');
// [1, 2, 3, 4, 5]
collect([1, 2, 3, 4])->push(5);
// ['id'=>1, 'name'=>'Desk', 'price'=>100]
collect(['id'=>1, 'name'=>'Desk'])->put('price', 100);

// 4 - (retrieved randomly)
collect([1, 2, 3, 4, 5])->random();
// [2, 4, 5] - (retrieved randomly)
collect([1, 2, 3, 4, 5])->random(3);

// 6
collect([1, 2, 3])->reduce(function ($carry, $item) {
    return $carry + $item;
});
// 10
collect([1, 2, 3])->reduce(function ($carry, $item) {
    return $carry + $item;
}, initial = 4);

// [1, 2]
collect([1, 2, 3, 4])->reject(function ($value, $key) {
    return $value > 2;
});
// [5, 4, 3, 2, 1]
collect([1, 2, 3, 4, 5]);

// two
collect(['one'=>true, 'two'=>false])->search(0);
// not found!
collect(['one'=>true, 'two'=>false])->search(0, $strict = true);
// Pass a callback
$collection->search(function ($item, $key) {
    return $item > 5;
});

// 1
collect([1, 2, 3, 4, 5])->shift();
// [3, 2, 5, 1, 4] // (generated randomly)
collect([1, 2, 3, 4, 5])->shuffle();

// [3, 4, 5], $collection = [1, 2, 3, 4, 5]
$collection = collect([1, 2, 3, 4, 5]);
$collection->slice(2);
// [3, 4], $collection = [1, 2, 3, 4, 5]
$collection = collect([1, 2, 3, 4, 5]);
$collection->slice(2, 2);

// [1, 2, 3, 4, 5]
collect([5, 3, 1, 2, 4])->sort();
collect([5, 3, 1, 2, 4])->sort(Closure);

/* [
    ['price'=>100],
    ['price'=>150],
    ['price'=>200],
] */
collect([
    ['price'=>200],
    ['price'=>100],
    ['price'=>150],
])->sortBy('price');
$collection->sort(Closure);
$collection->sortByDesc();
$collection->sortByDesc(Closure);

// [3, 4, 5], $collection = [1, 2]
$collection = collect([1, 2, 3, 4, 5]);
$collection->splice(2);
// [3] , $collection = [1, 2, 4, 5]
$collection = collect([1, 2, 3, 4, 5]);
collect([1, 2, 3, 4, 5])->splice(2, 1);

// 15
collect([1, 2, 3, 4, 5])->sum();
// 1272
$collection = collect([
    ['pages'=>176],
    ['pages'=>1096],
])->sum('pages');
$collection->sum(Closure);

// [0, 1, 2]
collect([0, 1, 2, 3, 4, 5])->take(3);
// [4, 5]
collect([0, 1, 2, 3, 4, 5])->take(-2);

// ['a'=>'1', 'b'=>2]
collect(['a'=>'1', 'b'=>2])->toArray();
// {"a":"1","b":2}
collect(['a'=>'1', 'b'=>2])->toJson();
// [2, 4, 6, 8, 10]
collect([1, 2, 3, 4, 5])->transform(function ($item, $key) {
    return $item * 2;
});
// [1=>'a', 2=>'b', 3=>'c']
collect([1=>'a', 2=>'b'])->union([3=>'c', 1=>'d']);

// [1, 2, 3, 4]
collect([1, 1, 2, 2, 3, 4, 2])->unique();
// [ ['id'=>1, 'size'=>'big'] ]
collect([
    ['id'=>1, 'size'=>'big'],
    ['id'=>2, 'size'=>'big'],
])->unique('size');
$collection->unique(Closure);

// [1, 2]
collect(['a'=>1, 'b'=>2])->values();

// [ ['id'=>2, 'size'=>'big'] ]
collect([
    ['id'=>1, 'size'=>'big'],
    ['id'=>2, 'size'=>'big'],
])->where('id', 2);
// Strict...
$collection->whereStrict('id', 2);

// [ ['id'=>2, 'size'=>'big'] ]
collect([
    ['id'=>6, 'size'=>'big'],
    ['id'=>2, 'size'=>'big'],
])->whereIn('id', [2, 3]);
// Strict...
$collection->whereInStrict('id', 2);

// [['Chair', 100], ['Desk', 200]]
collect(['Chair', 'Desk'])->zip([100, 200]);
</pre>
<h4><a name="configuration" href="#configuration">Configuration</a> <a href="https://laravel.com/docs/5.3/configuration" title="Configuration @ Laravel Docs"><i class="icon-file-text"></i></a></h4>
<pre class="prettyprint lang-php">
// Access configuration values
$value = config('app.timezone');
// Set configuration values at runtime
config(['app.timezone' => 'America/Chicago']);
//  retrieve value from $_ENV PHP super-global
env('APP_DEBUG', $deafult);
// Current application environment
App::environment();
// Check if local
App::environment('local');
// Check if local OR staging
App::environment('local', 'staging');
</pre>
<h4><a name="controllers" href="#controllers">Controllers</a> <a href="https://laravel.com/docs/5.3/controllers" title="Controllers @ Laravel Docs"><i class="icon-file-text"></i></a>
                </h4>
<h6>Single Action Controllers</h6>
<pre class="prettyprint lang-php">
class ShowProfile extends Controller {
    public function __invoke($id) {
        return view('user.profile', ['user' => User::findOrFail($id)]);
    }
}
Route::get('user/{id}', 'ShowProfile');
</pre>

<h6>Partial Resource Routes</h6>
<pre class="prettyprint lang-php">
Route::resource('photo', 'PhotoController', ['only' => [
    'index', 'show'
]]);

Route::resource('photo', 'PhotoController', ['except' => [
    'create', 'store', 'update', 'destroy'
]]);
</pre>
<h6>Naming Resource Routes</h6>
<pre class="prettyprint lang-php">
Route::resource('photo', 'PhotoController', ['names' => [
    'create' => 'photo.build'
]]);
</pre>

<h6>Naming Resource Route Parameters</h6>
<pre class="prettyprint lang-php">
Route::resource('user', 'AdminUserController', ['parameters' => [
    'user' => 'admin_user'
]]);
</pre>

<h6>Supplementing Resource Controllers</h6>
<pre class="prettyprint lang-php">
// defines those routes before your call to Route::resource
Route::get('photos/popular', 'PhotoController@method');
Route::resource('photos', 'PhotoController');
</pre>
<h4><a name="cookies" href="#cookies">Cookies</a> <a href="https://laravel.com/docs/5.3/requests#cookies" title="Cookies @ Laravel Docs"><i class="icon-file-text"></i></a></h4>
<pre class="prettyprint lang-php">
request()->cookie('key');
Cookie::get('key');
Cookie::get('key', 'default');
// Create a cookie that lasts for ever
Cookie::forever('key', 'value');
// Create a cookie that lasts N minutes
Cookie::make('key', 'value', 'minutes');
// or
cookie('name', 'value', $minutes);
// Set a cookie before a response has been created
Cookie::queue('key', 'value', 'minutes');
// Forget cookie
Cookie::forget('key');
// Send a cookie with a response
$response = Response::make('Hello World');
// Add a cookie to the response
$response->withCookie(Cookie::make('name', 'value', $minutes));
// or
response('Hello World')->cookie('name', 'value', $minutes);
</pre>
<h4><a name="database-testing" href="#database-testing">Database Testing</a> <a href="https://laravel.com/docs/5.3/database-testing" title="Database Testing @ Laravel Docs"><i class="icon-file-text"></i></a></h4>
<pre class="prettyprint lang-php">
// Assert that data exists in the database
$this->seeInDatabase('users', ['email' => 'sally@example.com']);

// Reset the database after each test
use Illuminate\Foundation\Testing\DatabaseMigrations;
class ExampleTest extends TestCase {
    use DatabaseMigrations;
}
// Reset the database using transaction
use Illuminate\Foundation\Testing\DatabaseTransactions;
class ExampleTest extends TestCase {
    use DatabaseTransactions;
}
</pre>

<h6>Writing Factories</h6>
<pre class="prettyprint lang-php">
// database/factories/ModelFactory.php
$factory->define(User::class, function (Faker\Generator $faker) {
    return ['column' => $faker->name];
});

// Define a state
$factory->state(User::class, 'delinquent', function ($faker) {
    return ['account_status' => 'delinquent'];
});

// Define a relationship
$factory->define(App\Post::class, function ($faker) {
    return ['user_id' => function () {
        return factory(App\User::class)->create()->id;
    }];
});

// Create a User instance
$user = factory(User::class)->make();
// Create three User instances...
$users = factory(User::class, 3)->make();
// Create an "admin" User instance...
$user = factory(User::class, 'admin')->make();
// Create three "admin" User instances...
$users = factory(User::class, 'admin', 3)->make();
// Override Attributes
$user = factory(App\User::class)->make([
    'name' => 'Abigail',
]);

// Create and save to the database
$user = factory(User::class)->create();
// Apply a state
$users = factory(User::class)->states('deliquent')->make();
// Attach a relation to a created model
$users = factory(App\User::class)->create()
    ->each(function ($u) {
        $u->posts()->save(factory(App\Post::class)->make());
    });
</pre>

                    </div>
                    <div class="large-4 columns code-column">

<h4><a name="database" href="#database">Database</a> <a href="https://laravel.com/docs/5.3/database" title="Basic Database Usage @ Laravel Docs"><i class="icon-file-text"></i></a></h4>

<h6>Basic Database Usage</h6>
<pre class="prettyprint lang-php">
DB::connection('connection_name');
// Running A Select Query
DB::select('select * from users where id = ?', [1]);
DB::select('select * from users where id = :id', ['id' => 1]);
// Running A General Statement
DB::statement('drop table users');
// Listening For Query Events
DB::listen(function($sql, $bindings, $time){ code_here; });
// Database Transactions
DB::transaction(function() {
    DB::table('users')->update(['votes' => 1]);
    DB::table('posts')->delete();
});
DB::beginTransaction();
DB::rollback();
DB::commit();
</pre>

<h6>Query Builder <a href="https://laravel.com/docs/5.3/queries" title="Query Builder @ Laravel Docs"><i class="icon-file-text"></i></a></h6>
<pre class="prettyprint lang-php">
// Retrieving All Rows From A Table
DB::table('name')->get();
// Chunking Results From A Table
DB::table('users')->chunk(100, function($users) {
    foreach ($users as $user) { }
});
// Retrieving A Single Row From A Table
DB::table('users')->where('name', 'John')->first();
DB::table('name')->first();
// Retrieving A Single Column From A Row
DB::table('users')->where('name', 'John')->pluck('name');
DB::table('name')->pluck('column');
// Retrieving A List Of Column Values
DB::table('roles')->pluck('title');
DB::table('roles')->pluck('title', 'name');
// Specifying A Select Clause
DB::table('users')->select('name', 'email')->get();
DB::table('users')->distinct()->get();
DB::table('users')->select('name as user_name')->get();
// Adding A Select Clause To An Existing Query
$query = DB::table('users')->select('name');
$query->addSelect('age')->get();
</pre>
<h6>Where Clauses</h6>
<pre class="prettyprint lang-php">
DB::table('users')->where('votes', '>', 100)->get();
DB::table('users')->where([
    ['status', '=', '1'],
    ['subscribed', '<>', '1'],
])
DB::table('users')
    ->where('votes', '>', 100)
    ->orWhere('name', 'John')
    ->get();
DB::table('users')->whereBetween('votes', [1, 100])->get();
DB::table('users')->whereNotBetween('votes', [1, 100])->get();
DB::table('users')->whereIn('id', [1, 2, 3])->get();
DB::table('users')->whereNotIn('id', [1, 2, 3])->get();
DB::table('users')->whereNull('updated_at')->get();
DB::table('name')->whereNotNull('column')->get();
// Compare a column's value against a date
DB::table('users')->whereDate('created_at', '2016-12-31');
// Compare a column's value against a specific month of a year
DB::table('users')->whereMonth('created_at', '12');
// Column's value against a specific day of a month
DB::table('users')->whereDay('created_at', '31');
// Compare a column's value against a specific year
DB::table('users')->whereYear('created_at', '2016');
// Verify that two columns are equal
DB::table('users')->whereColumn('first_name', 'last_name');
// Pass a comparison operator
DB::table('users')->whereColumn('updated_at', '>', 'created_at');
DB::table('users')->whereColumn([
    ['first_name', '=', 'last_name'],
    ['updated_at', '>', 'created_at']
]);
// select * from users where name = 'John'
// OR (votes > 100 and title <> 'Admin')
DB::table('users')
    ->where('name', '=', 'John')
    ->orWhere(function($query) {
        $query->where('votes', '>', 100)
              ->where('title', '<>', 'Admin');
    });
// select * from users where exists (
//    select 1 from orders where orders.user_id = users.id
// )
DB::table('users')
    ->whereExists(function ($query) {
        $query->select(DB::raw(1))
            ->from('orders')
            ->whereRaw('orders.user_id = users.id');
    });
// JSON Where Clauses
DB::table('users')->where('preferences->dining->meal', 'salad');
</pre>

<h6>Ordering, Grouping, Limit, & Offset</h6>
<pre class="prettyprint lang-php">
// Dynamic Where Clauses
$admin = DB::table('users')->whereId(1)->first();
$john = DB::table('users')->whereIdAndEmail(2, 'john@doe.com');
$jane = DB::table('users')->whereNameOrAge('Jane', 22);
// Sort the query results randomly
DB::table('users')->inRandomOrder();
DB::table('name')->orderBy('column','desc');
DB::table('orders')->groupBy('department')->having('price', '>', 100);
DB::table('orders')->groupBy('department')->havingRaw('SUM(price) > 2500');
// Offset & Limit
DB::table('users')->skip(10)->take(5);
</pre>

<h6>Conditional Clauses</h6>
<pre class="prettyprint lang-php">
// Apply a where statement if a given input value is present and true
DB::table('users')
    ->when($role, function ($query) use ($role) {
        return $query->where('role_id', $role);
    });

DB::table('users')
    ->when(
        $sortBy,
        function ($query) {},
        function ($query) {
            $run_if_when_is_false;
        });
    });
</pre>

<h6>Joins <a href="https://laravel.com/docs/5.3/queries#joins" title="Joins @ Laravel Docs"><i class="icon-file-text"></i></a></h6>
<pre class="prettyprint lang-php">
// Basic Join Statement
DB::table('users')
    ->join('contacts', 'users.id', '=', 'contacts.user_id')
    ->join('orders', 'users.id', '=', 'orders.user_id')
    ->select('users.id', 'contacts.phone', 'orders.price')
    ->get();
// Left Join Statement
DB::table('users')->leftJoin('posts', 'users.id', '=', 'posts.user_id');
// Cross Join Clause
DB::table('sizes')->crossJoin('colours');
// Advanced Join Clauses
DB::table('users')
    ->join('contacts', function ($join) {
        $join->on('users.id', '=', 'contacts.user_id')->orOn(...);
    });
// "where" style clause on your joins
DB::table('users')
    ->join('contacts', function ($join) {
        $join->on('users.id', '=', 'contacts.user_id')
             ->where('contacts.user_id', '>', 5);
    });
</pre>

<h6>Aggregates <a href="https://laravel.com/docs/5.3/queries#aggregates" title="Aggregates @ Laravel Docs"><i class="icon-file-text"></i></a></h6>
<pre class="prettyprint lang-php">
DB::table('users')->count();
$price = DB::table('orders')->max('price');
$price = DB::table('orders')->min('price');
$price = DB::table('orders')->avg('price');
$total = DB::table('users')->sum('votes');
</pre>

<h6>Raw Expressions <a href="https://laravel.com/docs/5.3/queries#raw-expressions" title="Raw Expressions @ Laravel Docs"><i class="icon-file-text"></i></a></h6>
<pre class="prettyprint lang-php">
DB::table('users')
    ->select(DB::raw('count(*) as user_count, status'))
    ->where('status', '<>', 1)
    ->groupBy('status')
    ->get();
// return rows
DB::select('select * from users where id = ?', array('value'));
// return nr affected rows
DB::insert('insert into foo set bar=2');
DB::update('update foo set bar=2');
DB::delete('delete from bar');
// returns void
DB::statement('update foo set bar=2');
// raw expression inside a statement
DB::table('name')->select(DB::raw('count(*) as count, column2'));
</pre>

<h6>Inserts / Updates / Deletes / Unions / Pessimistic Locking</h6>
<pre class="prettyprint lang-php">
// Inserts
DB::table('users')->insert(
    ['email' => 'john@example.com', 'votes' => 0]
);
$id = DB::table('users')->insertGetId(
    ['email' => 'john@example.com', 'votes' => 0]
);
DB::table('users')->insert([
    ['email' => 'taylor@example.com', 'votes' => 0],
    ['email' => 'dayle@example.com', 'votes' => 0]
]);
// Update
DB::table('users')->where('id', 1)->update(['votes' => 1]);
// Update JSON Columns
DB::table('users')->where('id', 1)->update(['options->enabled' => true]);
DB::table('users')->increment('votes');
DB::table('users')->increment('votes', 5);
DB::table('users')->decrement('votes');
DB::table('users')->decrement('votes', 5);
DB::table('users')->increment('votes', 1, ['name' => 'John']);
// Deletes
DB::table('users')->where('votes', '<', 100)->delete();
DB::table('users')->delete();
DB::table('users')->truncate();
// Unions
// The unionAll() method is also available, and has the same method signature as union.
$first = DB::table('users')->whereNull('first_name');
DB::table('users')->whereNull('last_name')->union($first);
// Pessimistic Locking
DB::table('users')->where('votes', '>', 100)->sharedLock();
DB::table('users')->where('votes', '>', 100)->lockForUpdate();
</pre>
<h4><a name="elixir" href="#elixir">Elixir</a> <a href="https://laravel.com/docs/5.3/elixir" title="Elixir @ Laravel Docs"><i class="icon-file-text"></i></a>
                </h4>
<h6>Stylesheets</h6>
<pre class="prettyprint lang-js">
// Less
elixir(function(mix) { mix.less('app.less');});
// Sass
elixir(function(mix) { mix.sass('app.scss'); });
// Stylus
elixir(function(mix) { mix.stylus('app.styl'); });
// Plain CSS
elixir(function(mix) { mix.styles('normalize.css'); );
});
// Combines and customizes the output location
elixir(function(mix) {
    mix.sass([
        'app.scss',
        'controllers.scss'
    ], 'public/assets/css');
});
// Customizes Paths
elixir(function(mix) {
    mix.sass('./app/assets/sass/app.scss');
});
// disables source maps generated
elixir.config.sourcemaps = false;
</pre>

<h6>Scripts</h6>
<pre class="prettyprint lang-js">
// Webpack
elixir(function(mix) { mix.webpack('app.js'); });
// Rollup
elixir(function(mix) { mix.rollup('app.js'); })
// Scripts
elixir(function(mix) { mix.scripts('app.js'); })
// Chooses a different output or base directory
elixir(function(mix) {
    mix.rollup(
        './resources/assets/js/app.js',
        './public/dist'
    );
});
// Concatenates multiple sets of scripts into different files
elixir(function(mix) {
    mix.scripts(['app.js', 'controllers.js'], 'public/js/app.js')
       .scripts(['forum.js', 'threads.js'], 'public/js/forum.js');
});
// Combines all of the scripts in a given directory
elixir(function(mix) { mix.scriptsIn('public/js/some/directory'); });
// Copy
elixir(function(mix) { mix.copy('foo/bar.css', 'bar/foo.css'); });
// Versioning Files
elixir(function(mix) { mix.version('css/all.css'); });
elixir(function(mix) {
    mix.version(['css/all.css', 'js/app.js']);
});
// BrowserSync
elixir(function(mix) {
    mix.browserSync({
        proxy: 'project.dev'
    });
});
</pre>
<h4><a name="eloquent-mutators" href="#eloquent-mutators">Eloquent: Mutators</a> <a href="https://laravel.com/docs/5.3/eloquent-mutators" title="Eloquent: Mutators @ Laravel Docs"><i class="icon-file-text"></i></a></h4>
<pre class="prettyprint lang-php">
// Define an accessor & mutator
class User extends Model {
    public function getFirstNameAttribute($value) {
        return ucfirst($value);
    }

    public function setFirstNameAttribute($value) {
        $this->attributes['first_name'] = strtolower($value);
    }
}
// $user->first_name = 'sally';
$user->first_name = 'Sally';
// $firstName = 'Sally';
$firstName = $user->first_name;

// Define date mutators
class User extends Model {
    protected $dates = [
        'created_at',
        'updated_at',
        'deleted_at'
    ];
}

// Automatically be stored to the date's value
$user->deleted_at = Carbon::now();
$user->deleted_at = date('Y-m-d');
// Automatically be cast to a Carbon instance
$carbon = $user->deleted_at->getTimestamp();

// Append values to json
class User extends Model {
    protected $appends = ['is_admin'];

    public function getIsAdminAttribute() {
        return $this->attributes['admin'] == 'yes';
    }
}

// "{"admin":"yes","is_admin":true}
$user->toJson();
// ["admin"=>"yes", "is_admin"=>true]
$user->toArray();
</pre>
<h4><a name="eloquent-relationships" href="#eloquent-relationships">Eloquent: Relationships</a> <a href="https://laravel.com/docs/5.3/eloquent-relationships" title="Eloquent: Relationships @ Laravel Docs"><i class="icon-file-text"></i></a></h4>
<pre class="prettyprint lang-php">
// One to one
$user->hasOne('App\Phone');
$user->hasOne('App\Phone', 'foreign_key');
$user->hasOne('App\Phone', 'foreign_key', 'local_key');
// Define the inverse
$phone->belongsTo('App\User');
$phone->belongsTo('App\User', 'foreign_key');
$phone->belongsTo('App\User', 'foreign_key', 'other_key');

// One to many
$post->hasMany('App\Comment');
$post->hasMany('App\Comment', 'foreign_key');
$post->hasMany('App\Comment', 'foreign_key', 'local_key');
// Define the inverse
$comment->belongsTo('App\Post');
$comment->belongsTo('App\Post', 'foreign_key');
$comment->belongsTo('App\Post', 'foreign_key', 'other_key');

// Many to many
$user->belongsToMany('App\Role');
$user->belongsToMany('App\Role', 'role_user');
$user->belongsToMany('App\Role', 'role_user', 'user_id', 'role_id');
// Define the inverse
$role->belongsToMany('App\User');

// Specify pivot table columns when defining the relationship
$user->belongsToMany('App\Role')->withPivot('column1', 'column2');
// Filter relationships via intermediate table columns
$user->belongsToMany('App\Role')->wherePivot('approved', 1);
$user->belongsToMany('App\Role')->wherePivotIn('priority', [1, 2]);
// Retrieve Intermediate Table Columns
foreach ($user->roles as $role) {
    echo $role->pivot->created_at;
}

// Has many through
$country->hasManyThrough('App\Post', 'App\User');
$country->hasManyThrough(
    'App\Post', 'App\User',
    'country_id', 'user_id', 'id'
);

// Polymorphic relations
// function commentable()
$comment->morphTo();
// function comments()
$post->morphMany('App\Comment', 'commentable');
// function comments()
$video->morphMany('App\Comment', 'commentable');

// Retrieve polymorphic relations
$commentable = $comment->commentable;
foreach ($post->comments as $comment) {}
foreach ($video->comments as $comment) {}

// Custom polymorphic types
use Illuminate\Database\Eloquent\Relations\Relation;
Relation::morphMap([
    'posts' => App\Post::class,
    'videos' => App\Video::class,
]);

// Many to many polymorphic relations
// function tags()
$post->morphToMany('App\Tag', 'taggable');
// function posts()
$tag->morphedByMany('App\Post', 'taggable');
// function videos()
$tag->morphedByMany('App\Video', 'taggable');

// Retrieve The Relationship
foreach ($post->tags as $tag) {}
foreach ($tag->videos as $video) {}
</pre>

<h6>Querying Relations</h6>
<pre class="prettyprint lang-php">
// Retrieve all posts that have at least one comment
Post::has('comments')->get();
// Don't have any comments
App\Post::doesntHave('comments')->get();
// Retrieve all posts that have three or more comments
Post::has('comments', '>=', 3)->get();
// Retrieve all posts that have at least one comment with votes
Post::has('comments.votes')->get();
// Retrieve all posts with at least one comment containing words like foo%
Post::whereHas('comments', function ($query) {
    $query->where('content', 'like', 'foo%');
})->get();
Post::whereDoesntHave('comments', function ($query) {
    $query->where('content', 'like', 'foo%');
})->get();

// Count related models
$posts = Post::withCount('comments')->get();
foreach ($posts as $post) {
    echo $post->comments_count;
}
// Retrieve the "counts" for multiple relations
$posts = Post::withCount(['votes', 'comments' => function ($query) {
    $query->where('content', 'like', 'foo%');
}])->get();
</pre>

<h6>Eager Loading</h6>
<pre class="prettyprint lang-php">
Book::with('author')->get();
// Eager loading multiple relationships
Book::with('author', 'publisher')->get();
// Nested eager loading
Book::with('author.contacts')->get();
// Specify additional query constraints
User::with(['posts' => function ($query) {
    $query->where('title', 'like', '%first%')
          ->orderBy('created_at', 'desc');
}])->get();

// Eager loading after parent model has already been retrieved
if (true) { $books->load('author', 'publisher'); }
// Set additional query constraints
$books->load(['author' => function ($query) {
    $query->orderBy('published_date', 'asc');
}]);
</pre>

<h6>Inserting & Updating Related Models</h6>
<pre class="prettyprint lang-php">
// Add a new model to relationships
$post->comments()->save($comment);
// Save multiple related models
$post->comments()->saveMany([
    new App\Comment(['message' => 'A new comment.']),
    new App\Comment(['message' => 'Another comment.']),
]);
// Creates a model
$comment = $post->comments()->create([
    'message' => 'A new comment.',
]);

// Update a belongsTo relationship
$user->account()->associate($account);
$user->save();

// Many To Many, Insert a record in the intermediate table
$user->roles()->attach($roleId);
// Inserted into the intermediate table with additional data
$user->roles()->attach($roleId, ['expires' => $expires]);
// Detach roles from the user
$user->roles()->detach($roleId);
$user->roles()->detach([1, 2, 3]);
// Detach all roles from the user
$user->roles()->detach();
// Only the IDs in the given array will exist in the intermediate table
$user->roles()->sync([1, 2, 3]);
$user->roles()->sync([1 => ['expires' => true], 2, 3]);
$user->roles()->syncWithoutDetaching([1, 2, 3]);
// Save additional data on a pivot table
$user->roles()->save($roleId, ['expires' => $expires]);
// Update a record on a pivot table
$user->roles()->updateExistingPivot($roleId, $attributes);


</pre>
<h4><a name="eloquent" href="#eloquent">Eloquent ORM</a> <a href="https://laravel.com/docs/5.3/eloquent" title="Eloquent @ Laravel Docs"><i class="icon-file-text"></i></a></h4>
<pre class="prettyprint lang-php">
// Define an eloquent model
class User extends Model {}
// Generate an Eloquent model
php artisan make:model User

// Customize an eloquent model
class User extends Model {
//  Customize the names of the columns used to store the timestamps
&nbsp;&nbsp;&nbsp;
    const CREATED_AT = 'creation_date';
    const UPDATED_AT = 'last_update';
//  Indicate the model should be timestamped
&nbsp;&nbsp;&nbsp;
    public $timestamps = false;
//  The table associated with the model
&nbsp;&nbsp;&nbsp;
    protected $table = 'my_users';
//  The storage format of the model's date columns
&nbsp;&nbsp;&nbsp;
    protected $dateFormat = 'U';
//  The connection name for the model
&nbsp;&nbsp;&nbsp;
    protected $connection = 'connection-name';
//  Make mass assignable
&nbsp;&nbsp;&nbsp;
    protected $fillable = ['name'];
//  Make not mass assignable
&nbsp;&nbsp;&nbsp;
    protected $guarded = ['price'];
//  Should be hidden for arrays
&nbsp;&nbsp;&nbsp;
    protected $hidden = ['password'];
//  Should be visible in arrays
&nbsp;&nbsp;&nbsp;
    protected $visible = ['first_name', 'last_name'];
//  Define date mutators
&nbsp;&nbsp;&nbsp;
    protected $dates = [
        'created_at',
        'updated_at',
        'deleted_at'
    ];
//  All of the relationships to be touched
&nbsp;&nbsp;&nbsp;
    protected $touches = ['post'];
//  Convert attributes to common data types
//  Suport types: integer, real, float, double, string, boolean,
//  object, array, collection, date, datetime, and timestamp
&nbsp;&nbsp;&nbsp;
    protected $casts = [
        'is_admin' => 'boolean',
    ];
//  Receive a custom collection when Eloquent returns a Collection instance
&nbsp;&nbsp;&nbsp;
    public function newCollection(array $models = []) {
        return new CustomCollection($models);
    }
}
</pre>

<h6>Hiding Attributes From JSON</h6>
<pre class="prettyprint lang-php">
// Temporarily modifying attribute visibility
$user->makeVisible('attribute')->toArray();
$user->makeHidden('attribute')->toArray();
</pre>

<h6>More</h6>
<pre class="prettyprint lang-php">
Model::create(array('key' => 'value'));
// Find first matching record by attributes or create
Model::firstOrCreate(array('key' => 'value'));
// Find first record by attributes or instantiate
Model::firstOrNew(array('key' => 'value'));
// Create or update a record matching attibutes, and fill with values
Model::updateOrCreate(array('search_key' => 'search_value'), array('key' => 'value'));
// Fill a model with an array of attributes, beware of mass assignment!
Model::fill($attributes);
// Delete An Existing Model By Key
Model::destroy(1);
Model::destroy([1, 2, 3]);
Model::destroy(1, 2, 3);
Model::all();
Model::find(1);
// Find using dual primary key
Model::find(array('first', 'last'));
// Throw an exception if the lookup fails
Model::findOrFail(1);
// Find using dual primary key and throw exception if the lookup fails
Model::findOrFail(array('first', 'last'));
Model::where('foo', '=', 'bar')->get();
Model::where('foo', '=', 'bar')->first();
// Dynamic
Model::whereFoo('bar')->first();
// Throw an exception if the lookup fails
Model::where('foo', '=', 'bar')->firstOrFail();
Model::where('foo', '=', 'bar')->count();
Model::where('foo', '=', 'bar')->delete();
//Output raw query
Model::where('foo', '=', 'bar')->toSql();
// name = {"en":"name"};
Model::where('name->en', 'name')->get();
// You may dive deep in the JSON string using the `->` operator.
Model::where('contacts->phone->home', 1234);
Model::whereRaw('foo = bar and cars = 2', array(20))->get();
Model::on('connection-name')->find(1);
Model::with('relation')->get();
Model::all()->take(10);
Model::all()->skip(10);
// Default Eloquent sort is ascendant
Model::all()->orderBy('column');
Model::all()->orderBy('column','desc');
// Iterate through your database records using a cursor
foreach (Flight::where('foo', 'bar')->cursor() as $flight) {}
</pre>

<h6>Soft Delete <a href="https://laravel.com/docs/5.3/eloquent#soft-deleting" title="Soft Deleting @ Laravel Docs"><i class="icon-file-text"></i></a></h6>
<pre class="prettyprint lang-php">
// Determine if a given model instance has been soft deleted
$model->trashed()
// Restore a soft deleted model
$model->restore();
// Permanently delete a model
$model->forceDelete();
// Including soft deleted models
Model::withTrashed()->where('cars', 2)->get();
// Force the result set to only included soft deletes
Model::onlyTrashed()->where('cars', 2)->get();
</pre>

<h6>Events</h6>
<pre class="prettyprint lang-php">
Model::creating(function($model){});
Model::created(function($model){});
Model::updating(function($model){});
Model::updated(function($model){});
Model::saving(function($model){});
Model::saved(function($model){});
Model::deleting(function($model){});
Model::deleted(function($model){});
Model::observe(new FooObserver);
</pre>

<h6>Eloquent Configuration</h6>
<pre class="prettyprint lang-php">
// Disables mass assignment exceptions from being thrown from model inserts and updates
Eloquent::unguard();
// Renables any ability to throw mass assignment exceptions
Eloquent::reguard();
</pre>

<h6>Query Scopes</h6>
<pre class="prettyprint lang-php">
// Apply a global scope
Model::addGlobalScope(new AgeScope);
// Apply an anonymous global scope
Model::addGlobalScope('age', function(Builder $builder) {
    $builder->where('age', '>', 200);
});
// Remove Global Scopes
Model::withoutGlobalScope('age');
Model::withoutGlobalScope(AgeScope::class);
// Remove some of the global scopes
Model::withoutGlobalScopes([FirstScope::class, SecondScope::class]);
// Remove all of the global scopes...
Model::withoutGlobalScopes();

// Local scopes
public function scopePopular($query) {
    return $query->where('votes', 1);
}

public function scopeOfType($query, $type) {
    return $query->where('type', $type);
}
Model::popular()->ofType('admin')->get();
</pre>
<h4><a name="envoy" href="#envoy">Envoy Task Runner</a> <a href="https://laravel.com/docs/5.3/envoy" title="Envoy Task Runner @ Laravel Docs"><i class="icon-file-text"></i></a></h4>
<pre class="prettyprint lang-php">
// Envoy.blade.php
@servers(['web' => ['user@192.168.1.1']])
@task('deploy', ['on' => ['web']])
@endtask
// Multiple servers
@servers(['web-1' => '192.168.1.1', 'web-2' => '192.168.1.2'])
@task('deploy', ['on' => ['web-1', 'web-2']])
@endtask
// Parallel execution
@task('deploy', ['on' => ['web-1', 'web-2'], 'parallel' => true])
@endtask
// Confirme before running a given task
@task('deploy', ['on' => 'web', 'confirm' => true])

// Require a PHP file
@include('vendor/autoload.php')

// execute some PHP code before executing
@setup
    $now = new DateTime();
    $environment = isset($env) ? $env : "testing";
@endsetup

// Send notifications to Slack after each task
@after
    @slack('webhook-url', '#bots')
@endafter

// echo a variable
@task('deploy', ['on' => 'web'])
    git pull origin {{ $branch }}
@endtask

// Story: group a set of tasks
@story('deploy')
    git
    composer
@endstory
@task('git')
@endtask
@task('composer')
@endtask
</pre>

<pre class="prettyprint lang-sh">
# Pass a option value into Envoy
envoy run deploy --branch=master

# Run a story or task
envoy run task-name
envoy run story-name
</pre>
<h4><a name="events" href="#events">Events</a> <a href="https://laravel.com/docs/5.3/events" title="Events @ Laravel Docs"><i class="icon-file-text"></i></a></h4>
<pre class="prettyprint lang-php">
Event::fire('foo.bar', array($bar));
// Register an event listener with the dispatcher.
// void listen(string|array $events, mixed $listener, int $priority)
Event::listen('App\Events\UserSignup', function($bar){});
Event::listen('foo.*', function($bar){});
Event::listen('foo.bar', 'FooHandler', 10);
Event::listen('foo.bar', 'BarHandler', 5);
// Stopping The Propagation Of An Event
// You may do so using by returning false from your handler.
Event::listen('foor.bar', function($event){ return false; });
Event::subscribe('UserEventHandler');
</pre>
<h6>Container Events</h6>
<pre class="prettyprint lang-php">
// Called when container resolves object of any type...
app()->resolving(function ($object, $app) {});
// Called when container resolves objects of type "HelpSpot\API"...
app()->resolving(HelpSpot\API::class, function ($api, $app) {});
</pre>

<h6>Database Events</h6>
<pre class="prettyprint lang-php">
DB::listen(function ($query) {
//  $query->sql, $query->bindings, $query->time;
});
</pre>



<h6>Authentication Events</h6>
<pre class="prettyprint lang-php">
Illuminate\Auth\Events\Attempting
Illuminate\Auth\Events\Login
Illuminate\Auth\Events\Logout
Illuminate\Auth\Events\Lockout
</pre>

<h6>Cache Events</h6>
<pre class="prettyprint lang-php">
Illuminate\Cache\Events\CacheHit
Illuminate\Cache\Events\CacheMissed
Illuminate\Cache\Events\KeyForgotten
Illuminate\Cache\Events\KeyWritten
</pre>

<h6>Email Events</h6>
<pre class="prettyprint lang-php">
Illuminate\Mail\Events\MessageSending
</pre>

<h6>Notification Events</h6>
<pre class="prettyprint lang-php">
Illuminate\Notifications\Events\NotificationSent
</pre>

<h4><a name="files" href="#files">Files</a> <a href="https://laravel.com/api/5.3/Illuminate/Filesystem/Filesystem.html" title="Filesystem @ Laravel Docs"><i class="icon-file-text"></i></a></h4>
<pre class="prettyprint lang-php">
File::exists('path');
File::get('path');
// Get contents with shared access
File::sharedGet('path');
// Get a file's contents by requiring it
File::getRequire('path');
// Require the given file once
File::requireOnce('path');
// Write the contents of a file
File::put('path', 'contents');
// Prepend to a file
File::prepend('path', 'data');
// Append to a file
File::append('path', 'data');
// Delete the file
File::delete('path');
// Move a file to a new location
File::move('path', 'target');
// Copy a file to a new location
File::copy('path', 'target');
// Create a hard link
File::link('target', 'link');
// Extract the file name
File::name('path');
// Extract the trailing name component
File::basename('path');
// Extract the parent directory
File::dirname('path');
// Extract the file extension
File::extension('path');
// Get the file type
File::type('path');
// Get the file mime-type o
File::mimeType('path');
// Get the file size
File::size('path');
// Get the file's last modification time
File::lastModified('path');
// Determine if the given path is a directory
File::isDirectory('directory');
// Determine if the given path is readable
File::isReadable('path');
// Determine if the given path is writable
File::isWritable('path');
// Determine if the given path is a file
File::isFile('file');
// Find path names matching a given pattern.
File::glob($patterns, $flag);
// Get an array of all files in a directory.
File::files('directory');
// Get all of the files from the given directory (recursive).
File::allFiles('directory');
// Get all of the directories within a given directory.
File::directories('directory');
// Create a directory
File::makeDirectory('path',  $mode = 0777, $recursive = false);
// Move a directory
File::moveDirectory('from', 'to', $overwrite  = false);
// Copy a directory from one location to another
File::copyDirectory('directory', 'destination', $options = null);
// Recursively delete a directory
File::deleteDirectory('directory', $preserve = false);
// Empty the specified directory of all files and folders
File::cleanDirectory('directory');
</pre>
<h4><a name="filesystem" href="#filesystem">Filesystem / Cloud Storage</a> <a href="https://laravel.com/docs/5.3/filesystem" title="Filesystem / Cloud Storage @ Laravel Docs"><i class="icon-file-text"></i></a></h4>
<pre class="prettyprint lang-php">
// Obtain the disk instance
Storage::disk('s3');
// Retrieve a file
Storage::get('file.jpg');
// Determine if a file exists
Storage::disk('s3')->exists('file.jpg');
// Get the URL for the given file
Storage::url('file1.jpg');
// Get the size of the file in bytes
Storage::size('file1.jpg');
// Returns the UNIX timestamp of the last time the file was modified
Storage::lastModified('file1.jpg');
// Store the file
Storage::put('file.jpg', $contents);
// Store with a PHP resource
Storage::put('file.jpg', $resource);
// use Illuminate\Http\File or Illuminate\Http\UploadedFile;
Storage::putFile($dir, new File('/path/to/photo'));
// specify the "visibility" of the stored file
Storage::putFile($dir, new File('/path/to/photo'), 'public');
// Manually specify a file name...
Storage::putFileAs($dir, new File('/path/to/photo'), 'photo.jpg');
// Write to the beginning of a file
Storage::prepend('file.log', 'Prepended Text');
// Write to the end of a file
Storage::append('file.log', 'Appended Text');
// Copy an existing file to a new location
Storage::copy('old/file1.jpg', 'new/file1.jpg');
// Rename or move an existing file to a new location
Storage::move('old/file1.jpg', 'new/file1.jpg');

// Store uploaded files
$request->file('avatar')->store($dir);
// Manually specify a file name...
$request->file('avatar')->storeAs($dir, $filename);
// Manually specify a storage
$request->file('avatar')->store($dir .'/'. $filename, 's3');

// Retrieve the visibility of a file
Storage::getVisibility('file.jpg');
// Set the visibility of a file
Storage::setVisibility('file.jpg', 'private');

// Delete files
Storage::delete('file.jpg');
Storage::delete(['file1.jpg', 'file2.jpg']);

// Get all files within a directory
Storage::files($directory);
// Include all sub-directories
Storage::allFiles($directory);
// Get all directories within a directory
Storage::directories($directory);
// Recursive...
Storage::allDirectories($directory);
// Create a directory
Storage::makeDirectory($directory);
// Delete a directory
Storage::deleteDirectory($directory);
</pre>
<h4><a name="forms" href="#forms">Forms</a> <a href="https://github.com/illuminate/html/" title="Forms & HTML @ GitHub"><i class="icon-file-text"></i></a></h4>
<pre class="prettyprint lang-php">
Form::open(array('url' => 'foo/bar', 'method' => 'PUT'));
Form::open(array('route' => 'foo.bar'));
Form::open(array('route' => array('foo.bar', $parameter)));
Form::open(array('action' => 'FooController@method'));
Form::open(array('action' => array('FooController@method', $parameter)));
Form::open(array('url' => 'foo/bar', 'files' => true));
Form::close();
{{ method_field('PUT') }}
Form::token();
Form::model($foo, array('route' => array('foo.bar', $foo->bar)));

</pre>

<h6>Form Elements</h6>
<pre class="prettyprint lang-php">Form::label('id', 'Description');
Form::label('id', 'Description', array('class' => 'foo'));
Form::text('name');
Form::text('name', $value);
Form::text('name', $value, array('class' => 'name'));
Form::textarea('name');
Form::textarea('name', $value);
Form::textarea('name', $value, array('class' => 'name'));
Form::hidden('foo', $value);
Form::number('name', 'value');
Form::password('password');
Form::password('password', array('placeholder' => 'Password'));
Form::email('name', $value, array());
Form::file('name', array('class' => 'name'));
Form::checkbox('name', 'value');
// Generating a checkbox that is checked
Form::checkbox('name', 'value', true, array('class' => 'name'));
Form::radio('name', 'value');
// Generating a radio input that is selected
Form::radio('name', 'value', true, array('class' => 'name'));
Form::select('name', array('key' => 'value'));
Form::select('name', array('key' => 'value'), 'key', array('class' => 'name'));
Form::selectRange('range', 1, 10);
Form::selectYear('year', 2011, 2015);
Form::selectMonth('month');
// be sure Carbon is installed http://carbon.nesbot.com/#gettingstarted
Form::date('name', \Carbon\Carbon::now());
Form::submit('Submit!', array('class' => 'name'));
Form::button('name', array('class' => 'name'));
Form::macro('fooField', function()
{
    return '&lt;input type="custom"/&gt;';
});
Form::fooField();
</pre>
<h4><a name="helpers" href="#helpers">Helpers</a> <a href="https://laravel.com/docs/5.3/helpers" title="Helpers @ Laravel Docs"><i class="icon-file-text"></i></a></h4>
<h6>Arrays</h6>
<pre class="prettyprint lang-php">
// ['one'=>1, 'two'=>2]
array_add(['one'=>1], 'two', 2);
// [1, 2, 3, 4, 5, 6]
array_collapse(array([1, 2, 3], [4, 5, 6]));
// $keys: ['name'], $values: ['Desk']
list($keys, $values) = array_divide(['name'=>'Desk']);
// ['foo.bar'=>'baz']
array_dot(['foo'=>['bar'=>'baz']]);
// ['one'=>1]
array_except(['one'=>1, 'two'=>2], ['two']);
// 2
array_first([1, 2, 3, 4], function($item, $key){
    return $item > 1;
}, $default);
// ['a', true, 'd']
array_flatten([ 'a', 'b'=>true, 'c'=>['d'] ]);
// ['products'=>[]]
$array = [ 'products'=>['desk'=>['price'=>100]] ];
array_forget($array, 'products.desk');
// ['price'=>100]
$array = [ 'products'=>['desk'=>['price'=>100]] ];
array_get($array, 'products.desk', $default);
// Check that a given item or items exists
$array = [ 'products'=>['name'=>'desk', 'price'=>100] ];
array_has($array, 'products.name');
array_has($array, ['products.name', 'products.price']);
// 4
array_last([1, 2, 3, 4], function($item, $key){
    return $item > 1;
});
// ['two'=>2]
array_only(['one'=>1, 'two'=>2], ['two']);
// [1, 2]
$array = [
    ['staff'=>['id'=>1]],
    ['staff'=>['id'=>2]],
];
array_pluck($array, 'staff.id');
// ['zero' ,'one', 'two', 'three']
array_prepend(['one', 'two', 'three'], 'zero');
// $name: Desk, $array: ['price'=>100]
$array = ['name'=>'Desk', 'price'=>100];
$name = array_pull($array, 'name');
// [ 'products'=>['desk'=>['price'=>200]] ]
$array = [ 'products'=>['desk'=>['price'=>100]] ];
array_set($array, 'products.desk.price', 200);
/* [
    1=>['name'=>'a'],
    0=>['name'=>'b'],
] */
array_sort([
    0=>['name'=>'b'],
    1=>['name'=>'a'],
], function ($value) {
    return $value['name'];
});
/* [
    ['a', 'b', 'c'],
    ['1', '2', '3'],
] */
array_sort_recursive([
    ['a', 'c', 'b'],
    ['2', '3', '1'],
]);
// [2 => 500]
array_where(['cat', 'dog', 500], function ($value, $key) {
    return is_integer($value);
});
// 100
head([100, 200, 300]);
// 300
last([100, 200, 300]);
</pre>

<h6>Paths</h6>
<pre class="prettyprint lang-php">
// /var/www/laravel/app
app_path();
// /var/www/laravel
base_path();
// /var/www/laravel/config
config_path();
// /var/www/laravel/database
database_path();
// Get the path to a versioned Elixir file:
elixir($file);
// /var/www/laravel/public
public_path();
// /var/www/laravel/resources
resource_path();
// /var/www/laravel/resources/assets/filename
resource_path('assets/filename');
// /var/www/laravel/sotrage
storage_path();
// /var/www/laravel/sotrage/app/file.txt
storage_path('app/file.txt');
</pre>

<h6>Strings</h6>
<pre class="prettyprint lang-php">
// fooBar
camel_case('foo_bar');
// Baz
class_basename('Foo\Bar\Baz');
// &amp;lt;html&amp;gt;foo&amp;lt;/html&amp;gt;
e('&lt;html&gt;foo&lt;/html&gt;');
// True
ends_with('This is my name', 'name');
// foo_bar
snake_case('fooBar');
// The PHP...
str_limit('The PHP framework for web artisans.', $limit = 7);
// True
starts_with('This is my name', 'This');
// True
str_contains('This is my name', 'my');
// If the given string contains any of the values
str_contains('This is my name', ['my', 'foo']);
// this/string@
str_finish('this/string', '@');
// If a given string matches a given pattern
str_is('foo*', 'foobar');
// cars
str_plural('car');
// children
str_plural('child', 2);
// child
str_plural('child', 1);
// Generate a random string
str_random(10);
// car
str_singular('cars');
// laravel-5-framework
str_slug('Laravel 5 Framework', '-');
// FooBar
studly_case('foo_bar');
// A Nice Title Uses The Correct Case
title_case('a nice title uses the correct case');
// Translate the given language line using your localization files
trans('validation.required');
// Translate the given language line with inflection
trans_choice('foo.bar', $count);
</pre>

<h6>URLs and Links</h6>
<pre class="prettyprint lang-php">
// Generate a URL for the given controller action
action('HomeController@getIndex');
// Route parameters
action('UserController@profile', ['id' => 1]);
// http://localhost/img/photo.jpg
asset('img/photo.jpg');
// https://localhost/foo/bar.zip
secure_asset('foo/bar.zip');
// Generate a URL for the given named route
route('routeName');
// Route parameters
route('routeName', ['id' => 1]);
// https://localhost/user/profile
secure_url('user/profile');
// http://localhost/user/profile
url('user/profile');
// https://localhost/user/profile/1
secure_url('user/profile', [1]);
// http://localhost/user/profile/1
url('user/profile', [1]);
// http://localhost
url()->current();
// http://localhost?query
url()->full();
// HTTP referer or previous URL from the session
url()->previous();
</pre>

<h6>Miscellaneous</h6>
<pre class="prettyprint lang-php">
// Throw a HTTP exception
abort(401);
// Provide the exception's response text
abort(401, 'Unauthorized.');
// Throw a HTTP exception if true
abort_if(! Auth::user()->isAdmin(), 403);
// Throw a HTTP exception if false
abort_unless(Auth::user()->isAdmin(), 403);
// Return an authenticator instanc
auth()->user();
// Generate a previous location redirect response
back();
// Hashe the given value using Bcrypt
bcrypt('my-secret-password');
// Get values from the cache
cache('key');
cache('key', 'default');
// Cache by passing an array of key / value pairs
cache(['key'=>'value'], 5);
// Create a collection instance
collect(['taylor', 'abigail']);
// Get the value of a configuration variable
config('app.timezone');
config('app.timezone', $default);
csrf_token();
// Dump the given variables and ends execution
dd($value);
// Do not halt the execution
dump($value);
// Pushe a new job onto the queue
dispatch(new App\Jobs\SendEmails);
// Get the value of an environment variable
env('APP_ENV', 'default');
// Dispatches the given event to its listeners
event(new UserRegistered($user));
// Create a model factory builder for a given class, name, and amount.
factory(App\User::class)->make();
factory(App\User::class)->create();
factory(App\User::class, $amount)->make();
factory(App\User::class)->make(['name'=>'foo']);
// Write information to the log
info('write information to the log', ['id'=>$user->id]);
// Write a debug level message to the log
logger('Debug message to the log', ['id'=>$user->id]);
// A logger instance will be returned if no value is passed
logger()->error('You are not allowed here.');
// Retrieve an old input value flashed into the session:
old('value', 'default');
// Return a redirect HTTP response
redirect('/home');
// Return the redirector instance
redirect()->route('route.name');
// Return the current request instance
request();
// Obtains an input item:
request('key', 'default')
// Create a response instance
response('Hello World', 200, $headers);
// Obtains an instance of the response factory:
response()->json(['foo'=>'bar'], 200, $headers);
// Get session values
session('key');
// Sets session values
session(['chairs'=>7, 'instruments'=>3]);
// Return a default value if the variable doesn't exist...
value(function(){ return 'bar'; });
// Retrieve a view instance:
view('auth.login');
// Call the given Closure with the given value then return the value.
tap($value, $callback)
// Return the given object. Useful for chaining.
with(new Foo)->chainedMethod();
</pre>
<h4><a name="html" href="#html">HTML Builder</a>
<a href="https://laravelcollective.com/docs/5.3/html" title="Filesystem @ Laravel Docs"><i class="icon-file-text"></i></a>
</h4>
<pre class="prettyprint lang-php">
// Open A Form
Form::open(['url' => 'foo/bar'])
Form::close()
// Open a form that point to a named route
Form::open(['route' => 'route.name'])
Form::open(['route' => ['route.name', $user->id]])
// Open a form that point to a controller action
Form::open(['action' => 'Controller@method'])
Form::open(['action' => ['Controller@method', $user->id]])
// Accept file uploads
Form::open(['url' => 'foo/bar', 'files' => true])

// Populate a form based on the contents of a model
Form::model($user, ['route' => ['user.update', $user->id]])
Form::close()
// Use form accessors
use Collective\Html\Eloquent\FormAccessible;
class User extends Model {
    use FormAccessible;
}

// Generate the html for the hidden CSRF field
Form::token();
// Generate a label element
Form::label('email', 'E-Mail Address', ['class' => 'awesome']);
// Generate a text input with defaut value
Form::text('email', 'example@gmail.com');
// Generate a password input
Form::password('password', ['class' => 'awesome']);
// Generate other inputs
Form::email($name, $value = null, $attributes = []);
Form::file($name, $attributes = []);
Form::number('name', 'value');
Form::date('name', \Carbon\Carbon::now());
// Generate a checkbox or radio input
Form::checkbox('name', 'value', $checked);
Form::radio('name', 'value', $checked);
// Generate a drop-down list
Form::select('size', ['L'=>'Large', 'S'=>'Small'], $selected);
// generate a grouped list
Form::select('animal', [
    'Cats' => ['leopard' => 'Leopard'],
    'Dogs' => ['spaniel' => 'Spaniel'],
]);
// Generate a drop-down list with a range
Form::selectRange('number', 10, 20);
// Generate a list with month names
Form::selectMonth('month');
// Generate a submit button
Form::submit('Click Me!');
</pre>

<h6>Custom</h6>
<pre class="prettyprint lang-php">
// Register a form macro
Form::macro('myField', function() {
    return '&lt;input type="awesome"&gt;';
});
Form::myField();

// Register a custom component
Form::component('bsText', 'components.form.text', ['name', 'value', 'attributes']);
// resources/views/components/form/text.blade.php
&lt;div class="form-group"&gt;
    {{ Form::label($name, null, ['class' => 'control-label']) }}
    {{ Form::text($name, $value, array_merge(['class' => 'form-control'], $attributes)) }}
&lt;/div&gt;
// Call it
Form::bsText('first_name');
</pre>

<h6>Generating URLs</h6>
<pre class="prettyprint lang-php">
// Generate a HTML link to the given URL
link_to('foo/bar', $title = null, $attributes = [], $secure = null);
// Generate a HTML link to the given asset
link_to_asset('foo/bar.zip', $title = null, $attributes = [], $secure = null);
// Generate a HTML link to the given named route
link_to_route('route.name', $title = null, $parameters = [], $attributes = []);
// Generate a HTML link to the given controller action
link_to_action('HomeController@getIndex', $title = null, $parameters = [], $attributes = []);
</pre>
                    </div>
                    <div class="large-4 columns code-column">
<h4><a name="localization" href="#localization">Localization</a> <a href="https://laravel.com/docs/5.3/localization" title="Localization @ Laravel Docs"><i class="icon-file-text"></i></a></h4>
<pre class="prettyprint lang-php">
App::setLocale('en');
App::getLocale();
App::isLocale('en')
Lang::get('messages.welcome');
Lang::get('messages.welcome', ['foo' => 'Bar']);
Lang::has('messages.welcome');
Lang::choice('messages.apples', 10);
// Lang::get alias
trans('messages.welcome');
trans_choice('messages.apples', 10);
</pre>
<h4><a name="log" href="#log">Log</a> <a href="https://laravel.com/docs/5.3/errors#logging" title="Log @ Laravel Docs"><i class="icon-file-text"></i></a></h4>
<pre class="prettyprint lang-php">
// The logger provides the seven logging levels defined in RFC 5424:
// debug, info, notice, warning, error, critical, and alert.
Log::info($message);
Log::info('info',array('context'=>'additional info'));
Log::emergency($message);
Log::alert($message);
Log::critical($message);
Log::error($message);
Log::warning($message);
Log::notice($message);
Log::debug($message);
// get monolog instance
Log::getMonolog();
// add listener
Log::listen(function($level, $message, $context) {});
</pre>

<h6>Query Logging</h6>
<pre class="prettyprint lang-php">
// enable the log
DB::enableQueryLog();
// get an array of the executed queries
DB::getQueryLog();
</pre>
<h4><a name="mail" href="#mail">Mail</a> <a href="https://laravel.com/docs/5.3/mail" title="Mail @ Laravel Docs"><i class="icon-file-text"></i></a></h4>
<h6>Mailable</h6>
<pre class="prettyprint lang-php">
// Configure the sender of the email
Mailable::from('example@example.com');
// Specify the template when rendering the email's contents
Mailable::view('emails.orders.shipped');
// Specify a plain-text template
Mailable::text('emails.orders.shipped_plain');
// Add a attachment to an email
Mailable::attach('/path/to/file');
Mailable::attachattach('/path/to/file',
['as' => 'name.pdf', 'mime' => 'application/pdf']);
// Attach a raw string of bytes as an attachment
Mailable::attachData($this->pdf, 'name.pdf',
['mime' => 'application/pdf']);
</pre>

<pre class="prettyprint lang-php">
Mail::send('email.view', $data, function($message){});
Mail::send(array('html.view', 'text.view'), $data, $callback);
Mail::queue('email.view', $data, function($message){});
Mail::queueOn('queue-name', 'email.view', $data, $callback);
Mail::later(5, 'email.view', $data, function($message){});
// Write all email to logs instead of sending
Mail::pretend();

Mail::to($request->user())
    ->cc($moreUsers)
    ->bcc($evenMoreUsers)
    ->send(new Mailable($order));
</pre>

<h6>Messages</h6>
<pre class="prettyprint lang-php">// These can be used on the $message instance passed into Mail::send() or Mail::queue()
$message->from('email@example.com', 'Mr. Example');
$message->sender('email@example.com', 'Mr. Example');
$message->returnPath('email@example.com');
$message->to('email@example.com', 'Mr. Example');
$message->cc('email@example.com', 'Mr. Example');
$message->bcc('email@example.com', 'Mr. Example');
$message->replyTo('email@example.com', 'Mr. Example');
$message->subject('Welcome to the Jungle');
$message->priority(2);
$message->attach('foo\bar.txt', $options);
// This uses in-memory data as attachments
$message->attachData('bar', 'Data Name', $options);
// Embed a file in the message and get the CID
$message->embed('foo\bar.txt');
$message->embedData('foo', 'Data Name', $options);
// Get the underlying Swift Message instance
$message->getSwiftMessage();
</pre>
<h4><a name="migrations" href="#migrations">Migrations</a> <a href="https://laravel.com/docs/5.3/migrations" title="Schema Builder @ Laravel Docs"><i class="icon-file-text"></i></a></h4>
<pre class="prettyprint lang-php">
// Indicate that the table needs to be created
Schema::create('table', function($table)
{
    $table->increments('id');
});
// Specify a Connection
Schema::connection('foo')->create('table', function($table){});
// Rename the table to a given name
Schema::rename($from, $to);
// Indicate that the table should be dropped
Schema::drop('table');
// Indicate that the table should be dropped if it exists
Schema::dropIfExists('table');
// Determine if the given table exists
Schema::hasTable('table');
// Determine if the given table has a given column
Schema::hasColumn('table', 'column');
// Update an existing table
Schema::table('table', function($table){});
// Indicate that the given columns should be renamed
$table->renameColumn('from', 'to');
// Indicate that the given columns should be dropped
$table->dropColumn(string|array);
// The storage engine that should be used for the table
$table->engine = 'InnoDB';
// Modify an existing column
$table->string('name', 50)->nullable()->change();
</pre>

<h6>Indexes</h6>
<pre class="prettyprint lang-php">
$table->string('column')->unique();
$table->primary('column');
// Create a dual primary key
$table->primary(array('first', 'last'));
$table->unique('column');
$table->unique('column', 'key_name');
// Create a dual unique index
$table->unique(array('first', 'last'));
$table->unique(array('first', 'last'), 'key_name');
$table->index('column');
$table->index('column', 'key_name');
// Create a dual index
$table->index(array('first', 'last'));
$table->index(array('first', 'last'), 'key_name');
$table->dropPrimary('table_column_primary');
$table->dropUnique('table_column_unique');
$table->dropIndex('table_column_index');
</pre>

<h6>Foreign Keys</h6>
<pre class="prettyprint lang-php">
$table->foreign('user_id')->references('id')->on('users');
$table->foreign('user_id')->references('id')->on('users')->onDelete('cascade'|'restrict'|'set null'|'no action');
$table->foreign('user_id')->references('id')->on('users')->onUpdate('cascade'|'restrict'|'set null'|'no action');
$table->dropForeign('posts_user_id_foreign');

Schema::enableForeignKeyConstraints();
Schema::disableForeignKeyConstraints();
</pre>

<h6>Column Types</h6>
<pre class="prettyprint lang-php">
// Increments
// UNSIGNED SMALL INTEGER
$table->smallIncrements('id');
$table->increments('id');
$table->bigIncrements('id');
// UNSIGNED MEDIUM INTEGER
$table->mediumIncrements('id');

// Numbers
$table->integer('votes');
$table->tinyInteger('votes');
$table->smallInteger('votes');
$table->mediumInteger('votes');
$table->bigInteger('votes');
$table->float('amount');
$table->double('column', 15, 8);
$table->decimal('amount', 5, 2);
$table->unsignedBigInteger('votes');
$table->unsignedInteger('votes');
$table->unsignedMediumInteger('votes');
$table->unsignedSmallInteger('votes');
$table->unsignedTinyInteger('votes');

//String and Text
$table->char('name', 4);
$table->string('email');
$table->string('name', 100);
$table->text('description');
$table->mediumText('description');
$table->longText('description');

//Date and Time
$table->date('created_at');
$table->dateTime('created_at');
$table->dateTimeTz('created_at');
$table->time('sunrise');
$table->timeTz('sunrise');
$table->timestamp('added_on');
$table->timestampTz('added_on');
// Adds created_at and updated_at columns
$table->timestamps();
$table->timestampsTz();
$table->nullableTimestamps();

// Others
$table->binary('data');
$table->boolean('confirmed');
// Adds deleted_at column for soft deletes
$table->softDeletes();
$table->ipAddress('visitor');
$table->json('options');
$table->jsonb('options');
$table->macAddress('device');
$table->enum('choices', array('foo', 'bar'));
$table->uuid('id');
// Adds remember_token as VARCHAR(100) NULL
$table->rememberToken();
// Adds INTEGER parent_id and STRING parent_type
$table->morphs('parent');
</pre>

<h6>Column Modifiers</h6>
<pre class="prettyprint lang-php">
// Place the column "after" another column (MySQL Only)
->after('column')
// Add a comment to a column
->comment('my comment')
// Specify a "default" value for the column
->default($value)
// Place the column "first" in the table (MySQL Only)
->first()
// Allow NULL values to be inserted into the column
->nullable()
// Create a stored generated column (MySQL Only)
->storedAs($expression)
// Set integer columns to UNSIGNED
->unsigned()
// Create a virtual generated column (MySQL Only)
->virtualAs($expression)
</pre>
<h4><a name="mocking" href="#mocking">Mocking</a> <a href="https://laravel.com/docs/5.3/mocking" title="Mocking @ Laravel Docs"><i class="icon-file-text"></i></a></h4>
<h6>Events</h6>
<pre class="prettyprint lang-php">
// Verify the expected event is fired
$this->expectsEvents(UserRegistered::class);
// Or not...
$this->doesntExpectEvents(OrderFailedToShip::class);
// All listeners for all events will be mocked
$this->withoutEvents();

// fake method prevents all event listeners from executing
// Assertions are made after the code under test is executed
class ExampleTest extends TestCase {
    public function testOrderShipping() {
        Event::fake();

        Event::assertFired(OrderShipped::class, Closure);
        Event::assertNotFired(OrderFailedToShip::class);
    }
}
</pre>

<h6>Jobs</h6>
<pre class="prettyprint lang-php">
// Verify that the expected job is dispatched
$this->expectsJobs(ShipOrder::class);
// Or not...
$this->doesntExpectJobs(ShipOrder::class);
// All jobs that are dispatched during that test will be discarded
$this->withoutJobs();

// fake method prevents jobs from being queued
class ExampleTest extends TestCase {
    public function testOrderShipping() {
        Queue::fake();

        Queue::assertPushed(ShipOrder::class, Closure);
        Queue::assertPushedOn('queue-name', ShipOrder::class);
        Queue::assertNotPushed(AnotherJob::class);
    }
}
</pre>

<h6>Mail Fakes</h6>
<pre class="prettyprint lang-php">
// fake method prevents mail from being sent
class ExampleTest extends TestCase {
    public function testOrderShipping() {
        Mail::fake();

        Mail::assertSent(ShipOrder::class, Closure);
        Mail::assertSentTo([$user], OrderShipped::class);
        Mail::assertNotSent(AnotherMailable::class);
    }
}
</pre>

<h6>Notification Fakes</h6>
<pre class="prettyprint lang-php">
// fake method prevents mail from being sent
class ExampleTest extends TestCase {
    public function testOrderShipping() {
        Notification::fake();

        Mail::assertSentTo($user, ShipOrder::class, Closure);
        Mail::assertSentTo([$user], OrderShipped::class);
        Mail::assertNotSentTo([$user], AnotherMailable::class);
    }
}
</pre>

<h6>Facades</h6>
<pre class="prettyprint lang-php">
Cache::shouldReceive('get')
    ->once()
    ->with('key')
    ->andReturn('value');

$value = Cache::get('key');
</pre>
<h4><a name="notifications" href="#notifications">Notifications</a> <a href="https://laravel.com/docs/5.3/notifications" title="Notifications @ Laravel Docs"><i class="icon-file-text"></i></a></h4>
<pre class="prettyprint lang-php">
// Sent a notification
Notification::send($users, new InvoicePaid($invoice));
// Use the notifiable trait
$user->notify(new InvoicePaid($invoice));
// Delay the deliver of the notification
$when = Carbon::now()->addMinutes(10);
$user->notify((new InvoicePaid($invoice))->delay($when));
</pre>

<h6>Database Notifications</h6>
<pre class="prettyprint lang-php">
// Mark a notification as read
$user->notifications[0]->markAsRead();
// Mark all
$user->notifications->markAsRead();
// Mark all without retrieving them from the database
$user->notifications()->update(['read_at' => Carbon::now()]);
// Remove all
$user->notifications()->delete();
</pre>

<h6>MailMessage</h6>
<pre class="prettyprint lang-php">
MailMessage::line($message);
MailMessage::action('View Invoice', $url);
MailMessage::subject('Notification Subject');
MailMessage::error();
</pre>
<h4><a name="packages" href="#packages">Package Development</a> <a href="https://laravel.com/docs/5.3/packages" title="packages @ Laravel Docs"><i class="icon-file-text"></i></a></h4>
<pre class="prettyprint lang-php">
use Illuminate\Support\ServiceProvider;
class MyPackageServiceProvider extends ServiceProvider {
    public function boot() {
//      Define routes
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        if (! $this->app->routesAreCached()) {
            require __DIR__.'/../../routes.php';
        }
//      Publish configuration file
//      config('courier.option');
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        $this->publishes([
            __DIR__.'/path/to/config/courier.php' =>
            config_path('courier.php'),
        ]);
//           Load migrations
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        $this->loadMigrationsFrom(__DIR__.'/path/to/migrations');
//      Load translations
//      trans('courier::messages.welcome');
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        $this->loadTranslationsFrom(
            __DIR__.'/path/to/translations',
            'courier'
        );
//      Publish translations
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        $this->publishes([
            __DIR__.'/path/to/translations' =>
            resource_path('lang/vendor/courier'),
        ]);
//      Load views
//      view('courier::admin');
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        $this->loadViewsFrom(
            __DIR__.'/path/to/views',
            'courier'
        );
//      Publish views
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        $this->publishes([
            __DIR__.'/path/to/views' =>
            resource_path('views/vendor/courier'),
        ]);
//      register Artisan commands
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        if ($this->app->runningInConsole()) {
            $this->commands([
                FooCommand::class,
                BarCommand::class,
            ]);
        }
//      Publish assets to public directory
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        $this->publishes([
            __DIR__.'/path/to/assets' =>
            public_path('vendor/courier'),
        ], 'public');
//      Publish files separately
//      php artisan vendor:publish --tag=config
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        $this->publishes([
            __DIR__.'/../config/package.php' =>
            config_path('package.php')
        ], 'config');

        $this->publishes([
            __DIR__.'/../database/migrations/' =>
            database_path('migrations')
        ], 'migrations');
}

    public function register() {
//      Merge package configuration file with the application's published copy
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        $this->mergeConfigFrom(
            __DIR__.'/path/to/config/courier.php',
            'courier'
        );
    }
}
</pre>
<h4><a name="pagination" href="#pagination">Pagination</a> <a href="https://laravel.com/docs/5.3/pagination" title="Pagination @ Laravel Docs"><i class="icon-file-text"></i></a></h4>
<pre class="prettyprint lang-php">
// Auto-Magic Pagination
Model::paginate(15);
Model::where('cars', 2)->paginate(15);
// "Next" and "Previous" only
Model::where('cars', 2)->simplePaginate(15);
// Manual Paginator
Paginator::make($items, $totalItems, $perPage);
// Print page navigators in view
$paginator->links();
// Customize The Paginator URI
$paginator->setPath('custom/url');
// Append to the query string of pagination links
$paginator->appends(['sort' => 'votes']);
// Append a "hash fragment" to the paginator's URLs
$paginator->fragment('foo');
</pre>
<h6>Paginator Instance Methods</h6>
<pre class="prettyprint lang-php">
$results->count()
$results->currentPage()
$results->firstItem()
$results->hasMorePages()
$results->lastItem()
// (Not available when using simplePaginate)
$results->lastPage()
$results->nextPageUrl()
$results->perPage()
$results->previousPageUrl()
// (Not available when using simplePaginate)
$results->total()
$results->url($page)
</pre>
<h4><a name="passport" href="#passport">API Authentication (Passport)</a> <a href="https://laravel.com/docs/5.3/passport" title="Passport @ Laravel Docs"><i class="icon-file-text"></i></a></h4>
<pre class="prettyprint lang-php">
// Register Passport routes
Passport::routes();
// Set lifetime for access tokens
Passport::tokensExpireIn(Carbon::now()->addDays(15));
// Set lifetime for refresh token
Passport::refreshTokensExpireIn(Carbon::now()->addDays(30));
// Delete revoked access tokens from the database
Passport::pruneRevokedTokens();
// Define Scopes
Passport::tokensCan([
    'place-orders' => 'Place orders',
    'check-status' => 'Check order status',
]);

// Create a token without scopes
$user->createToken('Token Name')->accessToken;
// Create a token with scopes
$user->createToken('My Token', ['place-orders'])->accessToken;

// Check Scopes On A Token Instance
$request->user()->tokenCan('place-orders');
</pre>

<h6>Routes</h6>
<pre class="prettyprint lang-php">
// Return all of the clients for the authenticated user
GET /oauth/clients
// Create new clients
// data = {name: 'Client Name',redirect: 'http://example.com/callback'};
POST /oauth/clients
// Update clients
PUT /oauth/clients/{client-id}
// Delete clients
DELETE /oauth/clients/{client-id}
// Return all of the scopes defined for your application
GET /oauth/scopes
// Return all of the personal access tokens
GET /oauth/personal-access-tokens
// Create creates new personal access tokens
POST /oauth/personal-access-tokens
// Delete personal access tokens:
DELETE /oauth/personal-access-tokens/{token-id}
// Redirect For Authorization
GET /oauth/authorize
// Get Access Tokens or Refresh Tokens
POST /oauth/token
</pre>

<h6>Middleware</h6>
<pre class="prettyprint lang-php">
'scopes' => \Laravel\Passport\Http\Middleware\CheckScopes::class,
'scope' => \Laravel\Passport\Http\Middleware\CheckForAnyScope::class,
// attach a laravel_token cookie to your outgoing response
\Laravel\Passport\Http\Middleware\CreateFreshApiToken::class,

// Check For All Scopes
// Access token has both "check-status" and "place-orders" scopes...
Route::get('/orders', function () {})
->middleware('scopes:check-status,place-orders');
</pre>
<h4><a name="queues" href="#queues">Queues</a> <a href="https://laravel.com/docs/5.3/queues" title="Queues @ Laravel Docs"><i class="icon-file-text"></i></a></h4>
<pre class="prettyprint lang-php">
// Sent to the default queue...
dispatch(new Job);
// Sent to the "emails" queue...
dispatch((new Job)->onQueue('emails'));
// Delay the execution of a queued job
$job = (new Job())->delay(Carbon::now()->addMinutes(10));
// Push a job to a different queue
$job = (new Job())->onQueue('processing');
// Specify a connection
$job = (new Job())->onConnection('sqs');

Queue::push('SendMail', array('message' => $message));
Queue::push('SendEmail@send', array('message' => $message));
Queue::push(function($job) use $id {});
// Same payload to multiple workers
Queue::bulk(array('SendEmail', 'NotifyUser'), $payload);
// Specify callbacks to be executed before or after a queued job is processed
Queue::before(function (JobProcessing $event) {});
Queue::after(function (JobProcessed $event) {});
</pre>
<h4><a name="redirects" href="#redirects">Redirects</a> <a href="https://laravel.com/docs/5.3/responses#redirects" title="Redirects @ Laravel Docs"><i class="icon-file-text"></i></a></h4>
<pre class="prettyprint lang-php">
Redirect::to('foo/bar');
Redirect::to('foo/bar')->with('key', 'value');
Redirect::to('foo/bar')->withInput();
Redirect::to('foo/bar')->withInput(Request::except('password'));
Redirect::to('foo/bar')->withErrors($validator);
// Create a new redirect response to the previous location
Redirect::back();
// same
back();
// Back with inputs
back()->withInput();
// Create a new redirect response to a named route
Redirect::route('foobar');
Redirect::route('foobar', array('value'));
Redirect::route('foobar', array('key' => 'value'));
// Create a new redirect response to a controller action
Redirect::action('FooController@index');
Redirect::action('FooController@baz', array('value'));
Redirect::action('FooController@baz', array('key' => 'value'));
// If intended redirect is not defined, defaults to foo/bar.
Redirect::intended('foo/bar');
// Redirects With Flashed Session Data
redirect('dashboard')->with('status', 'Profile updated!');
</pre>
<h4><a name="redis" href="#redis">Redis</a> <a href="https://laravel.com/docs/5.3/redis" title="Redis @ Laravel Docs"><i class="icon-file-text"></i></a></h4>
<pre class="prettyprint lang-php">
// Call the Redis GET command
Redis::get('user:profile:'.$id);
Redis::set('name', 'Taylor');
Redis::lrange('names', 5, 10);
Redis::command('lrange', ['name', 5, 10]);
// Get a Redis instance
Redis::connection();
// Get a specific server
Redis::connection('other');
// Send many commands to the server in one operation
Redis::pipeline(function ($pipe) {
    for ($i = 0; $i < 1000; $i++) {
        $pipe->set("key:$i", $i);
    }
});
// Listen for messages on a given "channel"
Redis::subscribe(['test-channel'], function($message) { });
// Publish messages to the channel
Redis::publish('test-channel', json_encode(['foo' => 'bar']));
// Subscribe to a wildcard channel
Redis::psubscribe(['*'], function($message, $channel) { })
</pre>
<h4><a name="requests" href="#requests">Requests</a> <a href="https://laravel.com/docs/5.3/requests" title="Requests @ Laravel Docs"><i class="icon-file-text"></i></a></h4>
<pre class="prettyprint lang-php">
// url: http://xx.com/aa/bb
$request->url();
// url: http://xx.com/aa/bb?c=d
$request->fullUrl();
// path: /aa/bb
$request->path();
// Verify request path matches a given pattern
$request->is('admin/*'))
// getRequestUri: /aa/bb/?c=d
$request->inputRequestUri();
// Returns user's IP
$request->inputClientIp();
// getUri: http://xx.com/aa/bb/?c=d
$request->inputUri();
// getQueryString: c=d
$request->inputQueryString();
// Get the port scheme of the request (e.g., 80, 443, etc.)
$request->inputPort();
// Determine if the current request URI matches a pattern
$request->is('foo/*');
// Get a segment from the URI (1 based index)
$request->segment(1);
// Retrieve a header from the request
$request->header('Content-Type');
// Retrieve a server variable from the request
$request->server('PATH_INFO');
// Determine if the request is the result of an AJAX call
$request->ajax();
// Determine if the request is over HTTPS
$request->secure();
// Get the request method
$request->method();
// Checks if the request method is of specified type
$request->isMethod('post');
// Get raw POST data
$request->instance()->getContent();
// Get requested response format
$request->format();
// true if HTTP Content-Type header contains */json
$request->isJson();
// true if HTTP Accept header is application/json
$request->wantsJson();
</pre>

<h6>Retrieving Input</h6>
<pre class="prettyprint lang-php">
$request->input('key');
// Default if the key is missing
$request->input('key', 'default');
// Works with forms that contain array inputs
$request->input('products.0.name');
$request->input('products.*.name');
// Retrieve input via dynamic properties
$name = request()->name;
// Retrieve json input values when "content-type" header is "application/json"
$request->input('user.name');
$request->has('key');
$request->all();
// Only retrieve 'foo' and 'bar' when getting input
$request->only(['foo', 'bar']);
$request->only('foo', 'bar');
// Disregard 'foo' when getting input
$request->except('foo');
$request->except(['foo']);
// Flash Input To The Session
$request->flash();
// Flash a subset of the request data to the session
$request->flashOnly(['username', 'email']);
$request->flashExcept('password');
// Retrieve an old input item
$request->old('key','default_value');
</pre>

<h6>Files</h6>
<pre class="prettyprint lang-php">
// Use a file that's been uploaded
$request->file('filename');
// Determine if a file was uploaded
$request->hasFile('filename');
// validate a successful upload
$request->file('photo')->isValid()
// Access file properties
$request->file('name')->path();
$request->file('name')->getRealPath();
$request->file('name')->extension();
$request->file('name')->getClientOriginalName();
$request->file('name')->getClientOriginalExtension();
$request->file('name')->getSize();
$request->file('name')->getMimeType();
// Move an uploaded file
$request->file('name')->move($destinationPath);
// Move an uploaded file
$request->file('name')->move($destinationPath, $fileName);
// Store a uploaded file
$request->file('name')->store('store_dir');
// the name of the disk that should be used to store the file
$request->photo->store('store_dir', 's3');
// Store as the filename
$request->photo->storeAs('images', 'filename.jpg');
$request->photo->storeAs('images', 'filename.jpg', 's3');
</pre>
<h4><a name="responses" href="#responses">Responses</a> <a href="https://laravel.com/docs/5.3/responses" title="Responses @ Laravel Docs"><i class="icon-file-text"></i></a></h4>
<pre class="prettyprint lang-php">
Response::make($contents);
Response::make($contents, 200);
Response::json(array('key' => 'value'));
// Create a JSONP response
Response::json(array('key' => 'value'))
    ->withCallback(Request::input('callback'));
Response::download($filepath);
Response::download($filepath, $filename, $headers);
// Display a file directly in the user's browser
Response::file($pathToFile);
Response::file($pathToFile, $headers);
// Create a response and modify a header value
$response = Response::make($contents, 200);
$response->header('Content-Type', 'application/json');
$response;
// Specify an array of headers to be added
response($content)
    ->withHeaders([
        'Content-Type' => $type,
        'X-Header-One' => 'Header Value',
        'X-Header-Two' => 'Header Value',
    ]);
// Attach a cookie to a response
Response::make($content)
    ->withCookie(Cookie::make('key', 'value'));
</pre>
<h4><a name="routing" href="#routing">Routing</a> <a href="https://laravel.com/docs/5.3/routing" title="Routing @ Laravel Docs"><i class="icon-file-text"></i></a></h4>
<pre class="prettyprint lang-php">
Route::get('foo', Closure);
Route::get('foo', 'ControllerName@function');
Route::controller('foo', 'FooController');
</pre>

<h6>RESTful Controllers</h6>
<pre class="prettyprint lang-php">
Route::resource('posts','PostsController');
//Specify a subset of actions to handle on the route
Route::resource('photo', 'PhotoController',['only' => ['index', 'show']]);
Route::resource('photo', 'PhotoController',['except' => ['update', 'destroy']]);
</pre>

<h6>Route Parameters</h6>
<pre class="prettyprint lang-php">
Route::get('foo/{bar}', function($bar){});
Route::get('foo/{bar?}', function($bar = 'bar'){});
</pre>

<h6>HTTP Verbs</h6>
<pre class="prettyprint lang-php">
Route::any('foo', function(){});
Route::post('foo', function(){});
Route::put('foo', function(){});
Route::patch('foo', function(){});
Route::delete('foo', function(){});
Route::options('foo', $callback);
// RESTful actions
Route::resource('foo', 'FooController');
// Registering A Route For Multiple Verbs
Route::match(['get', 'post'], '/', function(){});
// Registering A Route For all Verbs
Route::any('foo', function () {});
</pre>

<h6>Route Constraints</h6>
<pre class="prettyprint lang-php">
Route::get('foo/{bar}', function($bar){})
    ->where('bar', '[0-9]+');
Route::get('foo/{bar}/{baz}', function($bar, $baz){})
    ->where(array('bar' => '[0-9]+', 'baz' => '[A-Za-z]'))
</pre>
<pre class="prettyprint lang-php">
// Set a pattern to be used across routes
Route::pattern('bar', '[0-9]+')
</pre>

<h6>HTTP Middleware</h6>
<pre class="prettyprint lang-php">
// Assigning Middleware To Routes
Route::get('admin/profile', ['middleware' => 'auth', Closure]);
// Assigning Multi Middleware
Route::get('admin/profile')->middleware(['auth', 'subscribed'], ['only' => ['getCandy']]);
</pre>

<h6>Named Routes</h6>
<pre class="prettyprint lang-php">
$route = Route::current();
$name = Route::currentRouteName();
$action = Route::currentRouteAction();

Route::get('foo/bar', array('as' => 'foobar', Closure));
Route::get('user/profile', [
    'as' => 'profile', 'uses' => 'UserController@showProfile'
]);
Route::get('user/profile', Closure)->name('profile');
Route::get('user/profile', 'UserController@showProfile')->name('profile');
$url = route('profile');
$redirect = redirect()->route('profile');
</pre>

<h6>Route Prefixing</h6>
<pre class="prettyprint lang-php">
Route::group(['prefix' => 'admin'], function() {
    Route::get('users', function(){
        return 'Matches The "/admin/users" URL';
    });
});
</pre>

<h6>Route Middleware</h6>
<pre class="prettyprint lang-php">
Route::group(['middleware' => 'auth'], Closure);
</pre>

<h6>Route Namespacing</h6>
<pre class="prettyprint lang-php">
// This route group will carry the namespace 'Foo\Bar'
Route::group(array('namespace' => 'Foo\Bar'), Closure)
</pre>

<h6>Sub-Domain Routing</h6>
<pre class="prettyprint lang-php">
// {sub} will be passed to the closure
Route::group(array('domain' => '{sub}.example.com'), Closure);
</pre>

<h6>Implicit Binding</h6>
<pre class="prettyprint lang-php">
Route::get('api/users/{user}', function (App\User $user) {
    return $user->email;
});
</pre>
<h4><a name="scheduling" href="#scheduling">Task Scheduling</a> <a href="https://laravel.com/docs/5.3/scheduling" title="Task Scheduling @ Laravel Docs"><i class="icon-file-text"></i></a></h4>
<pre class="prettyprint lang-sh">
# Start the scheduler
* * * * * php /path/to/artisan schedule:run >> /dev/null 2>&1

# Defining Schedules
/app/Console/Kernel.php
</pre>

<pre class="prettyprint lang-php">
// Schedule a Closure to be called
$schedule->call(function () {})->daily();
// Schedule an Artisan command using command's name
$schedule->command('emails:send --force')->daily();
// Schedule an Artisan command using command's class
$schedule->command(EmailsCommand::class, ['--force'])->daily();
// Issue a command to the operating system
$schedule->exec('node /home/forge/script.js')->daily();

// Prevent the previous instance of the task is still running
$schedule->command('emails:send')->withoutOverlapping();
// Force a task to run even in maintenance mode
$schedule->command('emails:send')->evenInMaintenanceMode();
// Send the output to a file
$schedule->command('emails:send')->sendOutputTo($filePath);
// Append the output to a given file
$schedule->command('emails:send')->appendOutputTo($filePath);
// E-mail the output
$schedule->command('foo')
         ->sendOutputTo($filePath)
         ->emailOutputTo('foo@example.com');

// Specify code to be executed before and after the scheduled task
$schedule->command('emails:send')->before(Closure)->after(Closure);
// Ping a given URL before or after a task is complete
$schedule->command('emails:send')->pingBefore($url)->thenPing($url);
</pre>

<h6>Schedule Frequency Options</h6>
<pre class="prettyprint lang-php">
// Run the task on a custom Cron schedule
->cron('* * * * * *');
// Run the task every minute
->everyMinute();
// Run the task every five minutes
->everyFiveMinutes();
// Run the task every ten minutes
->everyTenMinutes();
// Run the task every thirty minutes
->everyThirtyMinutes();
// Run the task every hour
->hourly();
// Run the task every day at midnight
->daily();
// Run the task every day at 13:00
->dailyAt('13:00');
// Run the task daily at 1:00 & 13:00
->twiceDaily(1, 13);
// Run the task every week
->weekly();
// Run the task every month
->monthly();
// Run the task every month on the 4th at 15:00
->monthlyOn(4, '15:00');
// Run the task every quarter
->quarterly();
// Run the task every year
->yearly();
// Set the timezone
->timezone('America/New_York');

// Limit the task to weekdays
->weekdays();
// Limit the task to Sunday
->sundays();
// Limit the task to Monday
->mondays();
// Limit the task to Tuesday
->tuesdays();
// Limit the task to Wednesday
->wednesdays();
//Limit the task to Thursday
->thursdays();
// Limit the task to Friday
->fridays();
// Limit the task to Saturday
->saturdays();
// Limit the task to run between start and end times
->between($start, $end);
// Exclude the execution of a task for a period of time
->unlessBetwee($start, $end);
// Limit the task based on a truth test
->when(Closure);
// The inverse of when
->skip(Closure);
</pre>
<h4><a name="scout" href="#scout">Laravel Scout</a> <a href="https://laravel.com/docs/5.3/scout" title="Laravel Scout @ Laravel Docs"><i class="icon-file-text"></i></a></h4>
<pre class="prettyprint lang-php">
// Configure indexes and searchable data
use Laravel\Scout\Searchable;
class Post extends Model {
    use Searchable;

    public function searchableAs() {
        return 'posts_index';
    }

    public function toSearchableArray() {
        return $this->toArray();
    }
}
</pre>

<h6>Indexing</h6>
<pre class="prettyprint lang-php">
// Add or update a model to search index
$model->save();
// Via Eloquent query
Model::where('price', '>', 100)->searchable();
// Via relationships
$user->orders()->searchable();
// Via collections
$models->searchable();

// Remove a record from index
$model->delete();
// Via Eloquent query
Model::where('price', '>', 100)->unsearchable();
// Via relationships
$user->orders()->unsearchable();
// Via collections
$models->unsearchable();

// Pause Indexing
App\Order::withoutSyncingToSearch(function () {
//  Perform model actions...
});
</pre>

<h6>Searching</h6>
<pre class="prettyprint lang-php">
// Search your model
Model::search('Star Trek')->get();
// Add a basic numeric equality checking
Model::search('Star Trek')
     ->where('user_id', 1)->get();
// Paginate search results
Model::search('Star Trek')->paginate($per_page = null);
</pre>
<h4><a name="security" href="#security">Security</a></h4>
<h6>Hashing <a href="https://laravel.com/docs/5.3/hashing" title="Hashing @ Laravel Docs"><i class="icon-file-text"></i></a></h6>
<pre class="prettyprint lang-php">Hash::make('secretpassword');
Hash::check('secretpassword', $hashedPassword);
Hash::needsRehash($hashedPassword);
</pre>
<h6>Authentication <a href="https://laravel.com/docs/5.3/authentication" title="Authentication @ Laravel Docs"><i class="icon-file-text"></i></a></h6>
<pre class="prettyprint lang-php">// Determine if the current user is authenticated
Auth::check();
// Get the currently authenticated user
Auth::user();
// Get the ID of the currently authenticated user
Auth::id();
// Attempt to authenticate a user using the given credentials
Auth::attempt(['email' => $email, 'password' => $password], true);
// 'Remember me' by passing true to Auth::attempt()

// Accesses Specific Guard Instances
Auth::guard('admin')->attempt($credentials);
// Determines if the user was authenticated using the "remember me" cookie
Auth::viaRemember()
Auth::attempt($credentials, true);
// Log in for a single request
Auth::once($credentials);
// Log a user into the application
Auth::login(User::find(1));
// Login and "remember" the given user
Auth::login($user, true);
// Log the given user ID into the application
Auth::loginUsingId(1);
// Login and "remember" the given user
Auth::loginUsingId(1, true);
// Log the user out of the application
Auth::logout();
// Validate a user's credentials
Auth::validate($credentials);
// Attempts to authenticate using HTTP Basic Auth
Auth::basic('username');
// Performs a stateless HTTP Basic login attempt
Auth::onceBasic();
// Defines your own authentication guard
Auth::extend('jwt', function($app, $name, array $config) {});
// Sends a password reminder to a user
Password::remind($credentials, function($message, $user){});
</pre>

<h6>Encryption</h6>
<pre class="prettyprint lang-php">Crypt::encrypt('secretstring');
Crypt::decrypt($encryptedString);
Crypt::setMode('ctr');
Crypt::setCipher($cipher);

$encryptedValue = encrypt($request->secret);
try {
    $decrypted = decrypt($encryptedValue);
} catch (\Illuminate\Contracts\Encryption\DecryptException $e) {
}
</pre>
<h4><a name="service-container" href="#service-container">Service Container</a> <a href="https://laravel.com/docs/5.3/container" title="Service Container @ Laravel Docs"><i class="icon-file-text"></i></a></h4>
<pre class="prettyprint lang-php">
App::bind('foo', function($app){ return new Foo; });
$foo = App::make('foo');
// if $app variable not accessible
$foo = resolve('foo');
// If this class exists, it's returned
App::make('FooBar');
// Register a shared binding in the container
App::singleton('foo', function(){ return new Foo; });
// Register an existing instance as shared in the container
App::instance('foo', new Foo);
// Register a binding with the container
App::bind('FooRepositoryInterface', 'BarRepository');
// Binding Primitives
app()->when('App\Http\Controllers\UserController')
          ->needs('$variableName')
          ->give($value);
// Contextual Binding
app()->when(PhotoController::class)
          ->needs(Filesystem::class)
          ->give(function () {
              return Storage::disk('local');
          });

app()->when(VideoController::class)
          ->needs(Filesystem::class)
          ->give(function () {
              return Storage::disk('s3');
          });
// Tagging
app()->bind('SpeedReport', function () {});
app()->bind('MemoryReport', function () {});
app()->tag(['SpeedReport', 'MemoryReport'], 'reports');
app()->bind('ReportAggregator', function ($app) {
    return new ReportAggregator($app->tagged('reports'));
});
// Register a service provider with the application
App::register('FooServiceProvider');
// Listen for object resolution
App::resolving(function($object){});
</pre>
<h4><a name="sessions" href="#sessions">Sessions</a> <a href="https://laravel.com/docs/5.3/session" title="Session @ Laravel Docs"><i class="icon-file-text"></i></a></h4>
<pre class="prettyprint lang-php">
Session::get('key');
or
session('key');
// Returns an item from the session
Session::get('key', 'default');
Session::get('key', function(){ return 'default'; });
// Get the session ID
Session::getId();
// Put a key / value pair in the session
Session::put('key', 'value');
// Push a value into an array in the session
Session::push('foo.bar','value');
// Retrieves & Deleting An Item
Session::pull('key', 'default');
// Returns all items from the session
Session::all();
// Checks if an item is defined but not null
Session::has('key');
// Checks if an item is defined
Session::exists('users');
// Remove an item from the session
Session::forget('key');
// Remove all of the items from the session
Session::flush();
// Generate a new session identifier
Session::regenerate();
// Flash a key / value pair to the session
Session::flash('key', 'value');
// Reflash all of the session flash data
Session::reflash();
// Reflash a subset of the current flash data
Session::keep(array('key1', 'key2'));
</pre>
<h4><a name="str" href="#str">Strings</a> <a href="https://laravel.com/api/5.3/Illuminate/Support/Str.html" title="Strings CLI @ Laravel Docs"><i class="icon-file-text"></i></a></h4>
<pre class="prettyprint lang-php">
// Transliterate a UTF-8 value to ASCII
Str::ascii($value);
// Convert a value to camel case
Str::camel($value);
// Returns the replacements for the ascii method.
Str::contains($haystack, $needle);
Str::endsWith($haystack, $needles);
// Cap a string with a single instance of a given value.
Str::finish($value, $cap);
Str::is($pattern, $value);
Str::length($value);
// Limit the number of characters in a string
Str::limit($value, $limit = 100, $end = '...');
Str::lower($value);
// Limit the number of words in a string
Str::words($value, $words = 100, $end = '...');
// Parse a Class@method style callback into class and method
Str::parseCallback('Class@method', $default);
Str::plural($value, $count = 2);
// Generate a "random" alpha-numeric string.
Str::random($length = 16);
// Replace a given value in the string sequentially with an array.
Str::replaceArray($search, array $replace;, $subject)
// Replace the first occurrence of a given value in the string.
Str::replaceFirst($search, $replace, $;subject)
// Replace the last occurrence of a given value in the string.
Str::replaceLast($search, $replace, $;subject)
// deprecated
Str::quickRandom($length = 16);
Str::upper($value);
Str::title($value);
Str::singular($value);
Str::slug($title, $separator = '-');
Str::snake($value, $delimiter = '_');
Str::startsWith($haystack, $needles);
// Convert a value to studly caps case.
Str::studly($value);
Str::macro($name, $macro);
</pre>
<h4><a name="urls" href="#urls">UrlGenerator</a> <a href="https://laravel.com/api/5.3/Illuminate/Routing/UrlGenerator.html" title="UrlGenerator @ Laravel Docs"><i class="icon-file-text"></i></a></h4>
<pre class="prettyprint lang-php">
// Get the full URL for the current request
URL::full();
// Get the current URL for the request
URL::current();
// Get the URL for the previous request
URL::previous();
// Generate a absolute URL to the given path
URL::to('foo/bar', $parameters, $secure);
// Generate a secure, absolute URL to the given path
URL::secure('foo/bar', $parameters);
// Generate a URL to an application asset
URL::asset('css/foo.css', $secure);
// Generate a URL to a secure asset
URL::secureAsset('css/foo.css');
// Force the schema for URLs
URL::forceSchema($schema);
// Get the URL to a named route
URL::route('foo', $parameters, $absolute);
// Get the URL to a controller action
URL::action('FooController@method', $parameters, $absolute);
// Set the forced root URL
URL::forceRootUrl(string $root);
// Determine if the given path is a valid URL
URL::isValidUrl('http://example.com');
// Get the request instance
URL::getRequest();
// Set the current request instance
</pre>
<h4><a name="validation" href="#validation">Validation</a> <a href="https://laravel.com/docs/5.3/validation" title="Validation @ Laravel Docs"><i class="icon-file-text"></i></a></h4>
<pre class="prettyprint lang-php">
Validator::make(
    array('key' => 'Foo'),
    array('key' => 'required|in:Foo')
);
Validator::extend('foo', function($attribute, $value, $params){});
Validator::extend('foo', 'FooValidator@validate');
Validator::resolver(function($translator, $data, $rules, $msgs)
{
    return new FooValidator($translator, $data, $rules, $msgs);
});
// Stops On First Validation Failure
$rules = ['title' => 'bail|required|unique:posts|max:255'];
// Validates When Present
$rules =  ['email' => 'sometimes|required|email'];
// Nested Attributes
$rules = ['author.description' => 'required'];
// Validates Arrays
$rules = [
    'person.*.email' => 'email|unique:users',
    'person.*.first_name' => 'required_with:person.*.last_name',
];
</pre>

<h6>Working With Error Messages</h6>
<pre class="prettyprint lang-php">
$errors = $validator->errors();
echo $errors->first('email');
foreach ($errors->get('email') as $message) {}
foreach ($errors->get('attachments.*') as $message) {}
foreach ($errors->all() as $message) {}
$errors->has('email')
</pre>

<h6>Rules</h6>
<pre class="prettyprint lang-php">
// yes, on, 1, or true
accepted
// must have a valid A or AAAA record
active_url
after:YYYY-MM-DD
before:YYYY-MM-DD
alpha
alpha_dash
alpha_num
array
bail
between:1,10
boolean
confirmed
date
date_format:YYYY-MM-DD
// Available constraints are: min_width, max_width, min_height, max_height, width, height, ratio.
dimensions
different:fieldname
digits:value
digits_between:min,max
// arrays must not have any duplicate values
distinct
email
exists:table,column
// Must be a successfully uploaded file
file
// Must not be empty when it is present
filled
// Must be an image (jpeg, png, bmp, gif, or svg)
image
in:foo,bar,...
not_in:foo,bar,...
// Must exist in anotherfield's values.
in_array:anotherfield
integer
numeric
nullable
ip
json
max:value
min:value
// Must match one of the given MIME types
mimetypes:text/plain,...
// Must have a MIME type corresponding to one of the listed extensions
mimes:jpeg,png
nullable
// Must be present in the input data but can be empty
present
regex:[0-9]
required
// Must be present and not empty if the anotherfield field is equal to any value.
required_if:anotherfield,value,...
// Must be present and not empty unless the anotherfield field is equal to any value.
required_unless:anotherfield,value,...
// Must be present and not empty only if any of the other specified fields are present.
required_with:foo,bar,...
// Must be present and not empty only if all of the other specified fields are present.
required_with_all:foo,bar,...
// Must be present and not empty only when any of the other specified fields are not present.
required_without:foo,bar,...
// Must be present and not empty only when all of the other specified fields are not present.
required_without_all:foo,bar,...
same:field
size:value
sometimes
string
timezone
unique:table,column,except,idColumn
url
</pre>
<h4><a name="views" href="#views">Views</a> <a href="https://laravel.com/docs/5.3/views" title="Views @ Laravel Docs"><i class="icon-file-text"></i></a></h4>
<pre class="prettyprint lang-php">
View::make('path/to/view');
View::make('foo/bar')->with('key', 'value');
View::make('foo/bar')->withKey('value');
View::make('foo/bar', ['key' => 'value']);
View::exists('foo/bar');
// Share a value across all views
View::share('key', 'value');
// Nesting views
View::make('foo/bar')->nest('name', 'foo/baz', $data);
// Register a view composer
View::composer('viewname', function($view){});
// Register multiple views to a composer
View::composer(['view1', 'view2'], function($view){});
// Register all views to a composer
View::composer('*', function ($view) {});
// Register a composer class
View::composer('viewname', 'FooComposer');
View::creator('viewname', function($view){});
</pre>

                    </div>
                </div>
            </section>
            <!-- close the off-canvas menu -->
            <a class="exit-off-canvas"></a>
          </div>
        </div>


        <a href="#top" id="top-button" title="Top"><i class="icon-arrow-up"></i></a>
        <a href="#" id="small-search-button" class="searchable"><i class="icon-search"></i></a>

        <script src="assets/js/jquery.js"></script>
        <script src="assets/js/jquery.highlight-4.js"></script>
        <script src="assets/js/foundation.min.js"></script>
        <script src="assets/js/google-code-prettify/prettify.js"></script>
        <script src="assets/js/app.js"></script>
    </body>
</html>

